{"version":3,"sources":["storage/hooks.ts","utils/general.ts","utils/backgroundThemes.ts","api/messages.ts","components/pages/Intro/styles.ts","components/pages/Intro/trans.ts","components/pages/Intro/IntroView.tsx","assets/intro00.svg","assets/intro01.svg","assets/intro02.svg","components/pages/Intro/index.tsx","components/pages/Signup/styles.ts","components/pages/Signup/trans.ts","assets/celebration.svg","components/pages/Signup/index.tsx","components/pages/Welcome/styles.ts","components/pages/Welcome/trans.ts","assets/personal.svg","components/pages/Welcome/index.tsx","assets/circles-logo.svg","components/pages/Splash/styles.ts","components/pages/Splash/index.tsx","components/pages/Room/styles.ts","components/pages/Room/Messages.tsx","components/common/MessageInput/styles.ts","components/common/MessageInput/index.tsx","api/fcm.ts","components/pages/Room/MessageForm.tsx","components/pages/Room/MessagesSkeleton.tsx","components/pages/Room/RoomView.tsx","components/pages/Room/index.tsx","components/pages/Highlights/styles.ts","components/pages/Highlights/trans.ts","components/common/AccountSugestions/trans.ts","components/common/AccountSugestions/styles.ts","components/common/AccountSugestions/Suggestion.tsx","components/common/AccountSugestions/index.tsx","components/common/AccountFavContacts/styles.ts","components/common/AccountFavContacts/index.tsx","components/pages/Highlights/index.tsx","components/common/AccountPicker/styles.ts","components/common/AccountPicker/index.tsx","components/pages/Rooms/trans.ts","components/pages/Rooms/styles.ts","components/pages/Rooms/CreateRoom.tsx","components/pages/Rooms/index.tsx","components/pages/People/styles.ts","components/pages/People/ContactLabel.tsx","components/pages/People/trans.ts","components/pages/People/index.tsx","components/pages/Home/styles.ts","components/pages/Menu/styles.ts","components/pages/Menu/index.tsx","components/pages/Profile/styles.ts","components/pages/Profile/trans.ts","components/pages/Profile/index.tsx","components/common/TopMenu/MenuPopover/trans.ts","components/common/SettingsDrawer/trans.ts","components/common/SettingsDrawer/index.tsx","components/common/SettingsDrawer/styles.ts","components/common/TopMenu/MenuPopover/index.tsx","components/common/TopMenu/MenuPopover/styles.ts","components/common/Logo/styles.ts","components/common/Logo/index.tsx","components/common/TopMenu/index.tsx","components/common/TopMenu/styles.ts","components/pages/Home/index.tsx"],"names":["useStorage","storageFn","localStorage","useStorageSetter","signal","useSignal","useRef","key","value","undefined","resetLocalStorageValue","setLocalStorageValue","current","ensureArray","arr","Array","isArray","makeInitials","first_name","last_name","fallback","toUpperCase","makeFullName","capitalizeFirstLetter","substring","length","toLowerCase","backgroundThemes","id","label","url","useMessages","room_id","useState","messages","setMessages","useEffect","firebase","ref","makeRefPath","on","snapshot","msgs","val","m","useMessageSubmit","account_id","useCallback","message","author","timestamp","Date","toString","newMsgKey","child","push","updates","update","useStyles","makeStyles","theme","root","introViewRoot","maxWidth","breakpoints","values","md","margin","introViewContentWrapper","marginTop","translations","preset","title","en_US","pl_PL","de_DE","firstTitle","secondTitle","thirdTitle","yes","ProgressIcons","activePart","Flex","justifyContent","alignItems","active","ProgressIcon","useTheme","Icon","style","opacity","fontSize","color","palette","primary","main","IntroView","props","classes","partId","prevButtonText","nextButtonText","className","height","flexDirection","src","image","alt","Typography","variant","align","paragraph","description","width","Button","onClick","onPrev","onNext","Intro","history","useHistory","useLittera","translated","setActivePart","handleNext","ap","handlePrev","intro00","intro01","intro02","minHeight","up","container","padding","spacing","inputWrapper","signImage","position","right","bottom","imgContainer","overflow","background","dark","wave","zIndex","left","footerWrapper","Signup","storageSetter","emailInput","setEmailInput","passwordInput","setPasswordInput","confirmPasswordInput","setConfirmPasswordInput","errorMsg","setErrorMsg","isLoading","setIsLoading","useRestrictedPageForCurrentAccount","handleInputChange","inputName","event","newValue","target","waveAsset","onSubmit","preventDefault","email","password","signUpWithCredentials","then","result","a","console","log","user","uid","catch","err","TextField","marginBottom","onChange","type","Alert","severity","AlertTitle","Fab","aria-label","Backdrop","open","CircularProgress","personalImage","welcomeTitle","Welcome","dispatchStore","useDispatch","dispatchCommand","useDispatchCommand","currentAccount","useStore","state","labelField","setLabelField","details","firstNameField","setFirstNameField","middle_name","middleNameField","setMiddleNameField","lastNameField","setLastNameField","birthdate","dateOfBirth","setDateOfBirth","sex","setSex","handleChange","field","handleSubmit","AccountChange","JSON","parse","stringify","status","AccountInfo","account","setCurrentAccount","data","alert","personalInformationImage","paddingBottom","helperText","defaultValue","InputLabelProps","shrink","float","backgroundColor","paper","logo","Splash","location","dispatch","enqueueSnackbar","useSnackbar","accountIdToken","storage","AccountLogin","accountLogin","accountInfo","bgThemeId","getItem","bgTheme","find","bgT","setBackgroundTheme","flags","includes","messaging","requestPermission","getToken","token","tokens","newTokens","navigator","serviceWorker","addEventListener","notification","body","initialPath","fn","minWidth","display","backdropFilter","borderTopLeftRadius","shape","borderRadius","borderTopRightRadius","down","flexBasis","inputContainer","inputBackground","roomTitle","roomTitleBox","marginLeft","messagesRoot","maxHeight","flexGrow","messageRoot","ownedMessage","alignSelf","whiteSpace","wordBreak","notOwnedMessage","messageWithManyLines","textAlign","nextMessageOwned","borderBottomRightRadius","nextMessageNotOwned","borderBottomLeftRadius","prevMessageOwned","prevMessageNotOwned","equalToLine","paddingLeft","sendMessageArea","avatar","chatBoxHeader","Message","isOwned","displayAvatar","isOwnedNextMessage","isOwnedPrevMessage","setHeight","atob","rootClasses","cx","bubbleClasses","offsetHeight","authorFullName","authorInitials","Avatar","avatar_url","source","Messages","roomId","accounts","getAuthor","author_id","hasMessages","Object","keys","overflowY","reverse","map","message_id","index","MessageInput","onKeyPress","shiftKey","inputRef","fullWidth","placeholder","sendPushNotification","registration_ids","MessageForm","input","setInput","handleTextFieldFocus","focus","btoa","Box","IconButton","MessagesSkeleton","Skeleton","animation","RoomView","params","useParams","room","useRoom","submitMessage","roomMembers","filter","acc","reducedRoomMembers","roomName","membersEl","useMemo","slice","join","Room","marginRight","welcome","avatarContainer","welcomeWraper","greetings","textShadow","fontFamily","fontWeight","suggestionsInfo","greeting","firstMessage","card","suggestionAvatar","gsap","registerPlugin","ScrollTrigger","Suggestion","suggestion","payload","scrollRef","accountRq","useCommand","useForkedState","rq","isLoaded","accountFullName","accountInitials","Card","parseInt","CardContent","AccountSuggestions","suggestionsRq","AccountGetSuggestions","suggestions","indexOf","boxShadow","AccountContactBadge","AccountFavContacts","friends","c","favorite","Highlights","SingleAccount","selected","paddingTop","cursor","contact","AccountPicker","accountsRq","AccountList","friend","prevValue","disabled","multiple","splice","conversation","createRoom","invite","select","flexWrap","topMenu","listWrapper","roomWrapper","transition","roomWrapperExpanded","roomsButton","borderRadiusBottom","roomItemWrapper","avatarPlaceholder","lastMessageTypography","textOverflow","CreateRoom","React","error","setError","loading","setLoading","setOpen","setSelected","setLabel","handleClose","RoomCreate","newRoom","updateCurrentAccount","isSubmitDisabled","Dialog","onClose","aria-labelledby","DialogTitle","DialogContent","dividers","DialogActions","autoFocus","RoomLabel","roomUri","useAccount","lastMessage","lastMessageValue","AvatarGroup","max","accountsMap","Rooms","isRoomOpen","pathname","rooms","personData","contacts","text","ContactLabel","name","setName","setAvatar","forEach","surname","peopleMessage","People","gutterBottom","sidebarWidth","sidebar","backgroundImage","backgroundPosition","backgroundRepeat","backgroundSize","top","transform","backgroundImageBacklit","mainSection","drawer","menuIcon","Menu","isOpenMenu","setIsOpenMenu","signOut","Profile","storeDispatch","handleSignOut","window","reload","example","manageAccount","settings","VersionSettings","process","toDateString","ThemeSettings","preferences","backgroundTheme","setTheme","setItem","ThemePanel","h2","paperDrawer","SettingsDrawer","Drawer","anchor","keepMounted","createStyles","h4","avatarBig","popoverPaper","header","MenuPopover","shownSettingsDrawer","setShownSettingsDrawer","openSettingsDrawer","shownProfileDrawer","setShownProfileDrawer","anchorEl","setAnchorEl","Boolean","aria-describedby","currentTarget","Popover","anchorReference","anchorOrigin","vertical","horizontal","transformOrigin","List","ListItem","button","ListItemIcon","ListItemText","onOpen","Logo","typographyProps","menuBar","TopMenu","path","HighlightsLazy","lazy","RoomLazy","RoomsLazy","PeopleLazy","Home","isRoomsView","component","innerWidth","innerHeight"],"mappings":"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","file":"static/js/9.4ff8df0e.chunk.js","sourcesContent":["import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","export function validURL(str: string) {\n    var pattern = new RegExp('^(https?:\\\\/\\\\/)?'+ // protocol\n      '((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|'+ // domain name\n      '((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))'+ // OR ip (v4) address\n      '(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*'+ // port and path\n      '(\\\\?[;&a-z\\\\d%_.~+=-]*)?'+ // query string\n      '(\\\\#[-a-z\\\\d_]*)?$','i'); // fragment locator\n    return !!pattern.test(str);\n}\n\nexport function ensureArray(arr: any) {\n  if (Array.isArray(arr)) return arr;\n\n  return [];\n}\n\nexport function makeInitials(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${first_name[0]}${last_name[0]}`).toUpperCase();\n\n  return fallback[0].toUpperCase();\n}\n\nexport function makeFullName(first_name: string | undefined, last_name: string | undefined, fallback: string) {\n  if (first_name && last_name)\n    return (`${capitalizeFirstLetter(first_name)} ${capitalizeFirstLetter(last_name)}`);\n\n  return fallback;\n}\n\nexport const capitalizeFirstLetter = (value: string) => `${value[0].toUpperCase()}${value.substring(1, value.length).toLowerCase()}`","\nexport const backgroundThemes = [\n    {\n        id: \"1103088\",\n        label: \"One color\",\n        url: \"https://source.unsplash.com/collection/1103088/\"\n    },\n    {\n        id: '1971015',\n        label: \"Simplicity\",\n        url: \"https://source.unsplash.com/collection/1971015/\"\n    },\n    {\n        id: '1426076',\n        label: \"Pastel & Sparkle\",\n        url: \"https://source.unsplash.com/collection/1426076/\"\n    },\n    {\n        id: \"1111575\",\n        label: \"Space\",\n        url: \"https://source.unsplash.com/collection/1111575/\"\n    },\n    {\n        id: \"1922729\",\n        label: \"From above\",\n        url: \"https://source.unsplash.com/collection/1922729/\"\n    },\n];","import * as firebase from \"firebase/app\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { IMessage } from \"types\";\n//import { useAudio } from \"utils/hooks/sound\";\n\nconst makeRefPath = (room_id: string) => {\n    return `rooms/${room_id}/messages`;\n}\n\nexport const useMessages = (room_id: string) => {\n    //const [, toggle] = useAudio(\"https://cdn-02.anonfiles.com/B4z8W9Bbo8/14878adc-1592945278/notification_sound.mp3\");\n    const [messages, setMessages] = useState<any>(null);\n\n    useEffect(() => {\n        const messagesRef = firebase.database().ref(makeRefPath(room_id));\n\n        messagesRef.on('value', (snapshot) => {\n            const msgs = snapshot.val() ?? [];\n\n            setMessages((m: any) => {\n                //if(m !== null && typeof toggle === \"function\") toggle();\n                return msgs;\n            });\n        })\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n\n    return messages as {[key: string]: IMessage};\n}\n\ntype SubmitFunction = ((value: string) => void);\n\nexport const useMessageSubmit = (room_id: string, account_id: string) => {\n\n    return useCallback((value: string) => {\n        const message = {\n            author: account_id,\n            value,\n            timestamp: new Date().toString()\n        }\n\n        //firebase.database().ref(makeRefPath(room_id)).set(message);\n        var newMsgKey = firebase.database().ref().child('rooms').child(room_id).child(\"messages\").push().key;\n\n        var updates: any = {};\n        updates[`/rooms/${room_id}/messages/${newMsgKey}`] = message;\n\n        return firebase.database().ref().update(updates);\n\n    }, [account_id, room_id]) as SubmitFunction;\n}","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      \n    },\n    introViewRoot:{\n        maxWidth: theme.breakpoints.values.md,\n        margin: \"0 auto\",\n    },\n    introViewContentWrapper:{\n      maxWidth: \"60%\",\n      marginTop: \"5%\",\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Intro\",\n        pl_PL: \"Intro\",\n        de_DE: \"Intro\"\n    },\n    firstTitle: {\n        en_US: \"Welcome to safe chat!\",\n        pl_PL: \"Pierwszy Part\",\n        de_DE: \"Erstes Part\"\n    },\n\n    secondTitle: {\n        en_US: \"Available everywhere\",\n        pl_PL: \"Drugi Part\",\n        de_DE: \"Zweiten Part\"\n    },\n\n    thirdTitle: {\n        en_US: \"Reliable and Stable\",\n        pl_PL: \"Trzeci Part\",\n        de_DE: \"Dreien Part\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import React from \"react\";\nimport { Button, Typography, Icon, useTheme } from \"@material-ui/core\";\nimport Flex from \"components/utils/Flex\";\nimport useStyles from \"./styles\";\n\ntype IntroViewProps = {\n    partId: number;\n    activePart: number;\n    \n    title: string;\n    description: string;\n    image: any;\n    \n    onNext: () => void;\n    onPrev: () => void;\n}\n\nconst IntroView = (props: IntroViewProps) => {\n    const classes = useStyles();\n\n    // Prevent rendering if not active.\n    if(props.activePart !== props.partId) return null;\n\n    // TODO: Add translations.\n    const prevButtonText = props.partId === 0 ? \"Skip\" : \"Back\";\n    const nextButtonText = props.partId === 2 ? \"Continue\" : \"Next\";\n\n    return <div className={classes.introViewRoot} style={{height: \"100vh\"}}>\n        <Flex flexDirection=\"column\" alignItems=\"center\" justifyContent=\"space-between\">\n            <Flex flexDirection=\"column\" height=\"90vh\" alignItems=\"center\" justifyContent=\"center\">\n                {/* Image */}\n                <Flex alignItems=\"center\" justifyContent=\"center\">\n                    <img src={props.image} alt={props.title} style={{maxWidth: \"300px\", height: \"auto\"}} />\n                </Flex>\n\n                {/* Content */}\n                <Flex className={classes.introViewContentWrapper} alignItems=\"center\" justifyContent=\"center\" flexDirection=\"column\">\n                    <Typography variant=\"h2\">{props.title}</Typography>\n                    <Typography align=\"center\" paragraph >{props.description}</Typography>\n                </Flex>\n            </Flex>\n\n            {/* Actions */}\n            <Flex justifyContent=\"space-evenly\" height=\"10vh\" alignItems=\"center\" width=\"60%\">\n                <Button onClick={props.onPrev}>{prevButtonText}</Button>\n                <ProgressIcons activePart={props.activePart} />\n                <Button variant=\"contained\" color=\"primary\" onClick={props.onNext}>{nextButtonText}</Button>\n            </Flex>\n        </Flex>\n        \n        \n        \n        </div>\n}\n\nconst ProgressIcons = ({activePart} : {activePart: number}) => {\n    \n    return  <Flex justifyContent=\"center\" alignItems=\"center\">\n                <ProgressIcon active={activePart >= 0} />\n                <ProgressIcon active={activePart >= 1} />\n                <ProgressIcon active={activePart >= 2} />\n            </Flex>\n}\n\nconst ProgressIcon = ({active}: {active: boolean}) => {\n    const theme = useTheme();\n\n    return <Icon style={{ opacity: active ? 1 : 0.15, fontSize: \"14px\", color: active ? theme.palette.primary.main : \"#000\" }}>lens</Icon>;\n}\n\nexport default IntroView;\n","export default __webpack_public_path__ + \"static/media/intro00.6588dfdc.svg\";","export default __webpack_public_path__ + \"static/media/intro01.1025310d.svg\";","export default __webpack_public_path__ + \"static/media/intro02.819f31a9.svg\";","import React, { useState, useCallback } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport IntroView from \"./IntroView\";\n\nimport intro00 from \"assets/intro00.svg\";\nimport intro01 from \"assets/intro01.svg\";\nimport intro02 from \"assets/intro02.svg\";\n\nimport { useHistory } from \"react-router-dom\";\n\n/**\n * Home page component.\n */\nconst Intro = () => {\n    // history.push(\"/path\");\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    // Controls the active part.\n    const [activePart, setActivePart] = useState<number>(0);\n    \n\n    const handleNext = useCallback(() => {\n        // To get the correct result, I'm looking up activePart (ap) passed to setActivePart method instead of using the in scope state variable.\n        setActivePart(ap => { \n\n            // Handle end of intro by navigating to login screen.\n            if(ap === 2) {\n                history.push(\"/login\");\n                // ? Changing value here after navigating might result in a memory leak as the Intro component is then unmounted. Move outside setActivePart and use \"activePart\" variable instead of \"ap\" to prevent state change.\n                return ap;\n            }\n\n            // Increment activePart.\n            return ap+1;\n        });\n    }, [setActivePart, history]);\n\n    const handlePrev = useCallback(() => {\n        setActivePart(ap => {\n\n            if(ap === 0) {\n                history.push(\"/login\");\n                return ap;\n            }\n\n            return ap-1;\n        });\n    }, [setActivePart, history]);\n\n    return <div className={classes.root}>\n        <IntroView activePart={activePart} partId={0} onNext={handleNext} onPrev={handlePrev} image={intro00} title={translated.firstTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={1} onNext={handleNext} onPrev={handlePrev} image={intro01} title={translated.secondTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n        <IntroView activePart={activePart} partId={2} onNext={handleNext} onPrev={handlePrev} image={intro02} title={translated.thirdTitle} description=\"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse.\" />\n    </div>\n}\n\nexport default Intro;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      minHeight: \"calc(100vh - (300px + 42px))\",\n      alignItems: \"center\",\n      //paddingTop: \"60px\"\n      [theme.breakpoints.up(\"sm\")]: {\n        minHeight: \"calc(100vh - (350px + 42px))\",\n        alignItems: \"flex-start\"\n      },\n    },\n    container: {\n      maxWidth: theme.breakpoints.values.md,\n      width: \"100%\",\n      padding: `0 ${theme.spacing(4)}px`,\n    },\n    inputWrapper: {\n\n    },\n    signImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n    imgContainer : {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n    footerWrapper: {\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}px`,\n    }\n    \n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Sign up\",\n        pl_PL: \"Bądź w kontakcie!\",\n        de_DE: \"Stayen ins Touchejen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/celebration.9e01a526.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Button, TextField, Typography, Fab, Icon, Backdrop, CircularProgress } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport Flex from \"components/utils/Flex\";\nimport signImage from \"assets/celebration.svg\";\nimport waveAsset from \"assets/wave.svg\";\nimport { signUpWithCredentials } from \"api/auth\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport { useStorageSetter } from \"storage/hooks\";\nimport { useRestrictedPageForCurrentAccount } from \"utils/hooks/general\";\n\n// TODO: Translations...?\n\n/**\n * Login page component.\n */\nconst Signup = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const storageSetter = useStorageSetter();\n\n    const [emailInput, setEmailInput] = useState(\"\");\n    const [passwordInput, setPasswordInput] = useState(\"\");\n    const [confirmPasswordInput, setConfirmPasswordInput] = useState(\"\");\n    const [errorMsg, setErrorMsg] = useState(\"\");\n    const [isLoading, setIsLoading] = useState(false)\n    useRestrictedPageForCurrentAccount();\n\n    const handleSubmit = (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        setErrorMsg(\"\");\n        setIsLoading(true)\n\n        if (!isLoading) {\n            const email = emailInput;\n            const password = passwordInput;\n            const confirmPassword = confirmPasswordInput;\n\n            if (confirmPassword !== password) {\n                setErrorMsg(\"Passwords are not identical.\");\n                setIsLoading(false);\n                return;\n            }\n\n            if (password.length < 13) {\n                setErrorMsg(\"Password is too short.\");\n                setIsLoading(false);\n                return;\n            }\n\n            signUpWithCredentials(email, password).then(async (result: any) => {\n                console.log(\"Result =>\", result);\n\n                /*const acc = await dispatchCommand(AccountCreate, { email: emailInput, password: passwordInput });\n                console.log(\"Account Data =>\", acc);\n                if(acc.status === 200) {\n                    storageSetter(\"currentAccountId\", acc.data.account_id);\n                    \n                    console.log(\"All success! Fuck yea!\");\n                    history.push(\"/welcome\");\n                } else if(acc.status === 404) {\n                    // TODO: Account not found!\n                    setErrorMsg(\"Account not found!\");\n                }*/\n                result?.user?.uid && storageSetter(\"accountIdToken\", result.user.uid)\n\n                history.push(\"/welcome\");\n\n            }).catch(err => {\n                setErrorMsg(err.message);\n                setIsLoading(false);\n            });\n        }\n    }\n\n    const handleInputChange = (inputName: string) => (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n        // @ts-ignore\n        const newValue = event?.target?.value ?? \"\";\n        if (!isLoading) {\n            if (inputName === \"email\") setEmailInput(newValue);\n            if (inputName === \"password\") setPasswordInput(newValue);\n            if (inputName === \"password-confirm\") setConfirmPasswordInput(newValue);\n        }\n\n    }\n\n    const handleBack = () => {\n        history.push(\"/login\");\n    }\n\n    return <div style={{ width: \"100%\" }}>\n\n        <div className={classes.imgContainer}>\n            <img className={classes.signImage} src={signImage} alt=\"signImage\" />\n            <img className={classes.wave} src={waveAsset} alt=\"\" />\n        </div>\n\n\n        <Flex justifyContent=\"center\" width=\"100%\" className={classes.root}>\n            <div className={classes.container}>\n                <Typography variant=\"h3\" paragraph>\n                    {translated.title}\n                </Typography>\n                <form onSubmit={handleSubmit}>\n                    <Flex className={classes.inputWrapper} flexDirection=\"column\">\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"email-input\" value={emailInput} onChange={handleInputChange(\"email\")} type=\"email\" label=\"E-mail\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"password-input\" value={passwordInput} onChange={handleInputChange(\"password\")} type=\"password\" label=\"Password\" variant=\"outlined\" />\n                        <TextField style={{ marginBottom: \"15px\" }} id=\"confirm-password-input\" value={confirmPasswordInput} onChange={handleInputChange(\"password-confirm\")} type=\"password\" label=\"Confirm password\" variant=\"outlined\" />\n                    </Flex>\n\n                    {errorMsg && <Alert style={{ margin: \"10px 0\" }} severity=\"error\">\n                        <AlertTitle>Upps...</AlertTitle>\n                        {errorMsg}\n                    </Alert>}\n\n                    <Flex justifyContent=\"space-between\">\n                        <Button onClick={handleBack} color=\"primary\" type=\"button\">Login</Button>\n                        <Fab color=\"primary\" aria-label=\"add\" type=\"submit\">\n                            <Icon style={{ color: \"white\" }}>keyboard_arrow_right</Icon>\n                        </Fab>\n                    </Flex>\n\n                </form>\n            </div>\n        </Flex>\n        <Flex className={classes.footerWrapper} alignItems=\"center\" justifyContent=\"flex-end\" height=\"42px\">\n            <Typography align=\"right\"></Typography>\n        </Flex>\n        {!isLoading ? null :\n            <Backdrop open={true} style={{ zIndex: 5 }}>\n                <CircularProgress color=\"primary\" />\n            </Backdrop>}\n\n    </div>\n}\n\nexport default Signup;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      position: \"relative\",\n      maxWidth: theme.breakpoints.values.md,\n      margin: \"0 auto\",\n      padding: `0 ${theme.spacing(4)}`      \n\n    },\n    inputWrapper: {\n\n    },\n    wave: {\n      position: \"absolute\",\n      zIndex: 5,\n      bottom: \"-10%\",\n      left: \"-1%\",\n      width: \"102%\",\n      height: \"auto\"\n    },\n\n    personalImage : {\n      width: \"auto\",\n      height: \"240px\",\n      position: \"absolute\",\n      right: \"2%\",\n      bottom: \"0px\",\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"310px\",\n        bottom: \"5px\"\n      },\n    },\n\n    imgContainer: {\n      height: \"300px\",\n      position: \"relative\",\n      overflow: \"hidden\",\n      background: `linear-gradient(to top left, ${theme.palette.primary.dark}, ${theme.palette.primary.main})`,\n\n      [theme.breakpoints.up(\"sm\")]: {\n        height: \"350px\"\n      },\n    },\n    welcomeTitle: {\n      color: theme.palette.primary.main\n    }\n\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Welcome,\",\n        pl_PL: \"Witamy\",\n        de_DE: \"Willkommen\"\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","export default __webpack_public_path__ + \"static/media/personal.ebfa5829.svg\";","import React, { useState } from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { Typography } from \"@material-ui/core\";\nimport { useStore, useDispatch } from \"store/hooks\";\nimport { TextField } from '@material-ui/core';\nimport Flex from \"components/utils/Flex\";\nimport Button from '@material-ui/core/Button';\nimport waveAsset from \"assets/wave.svg\";\nimport personalInformationImage from \"assets/personal.svg\";\nimport { useDispatchCommand } from \"api/hooks\";\nimport { AccountChange, AccountInfo } from \"api/commands\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useHistory } from \"react-router-dom\";\n\ntype EditableField = \"label\" | \"first_name\" | \"middle_name\" | \"last_name\" | \"birthday\" | \"sex\";\n\n/**\n * Welcome page component.\n */\nconst Welcome = () => {\n    const history = useHistory();\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [labelField, setLabelField] = useState(currentAccount?.label ?? \"\");\n    const [firstNameField, setFirstNameField] = useState(currentAccount?.details?.first_name ?? \"\");\n    const [middleNameField, setMiddleNameField] = useState(currentAccount?.details?.middle_name ?? \"\");\n    const [lastNameField, setLastNameField] = useState(currentAccount?.details?.last_name ?? \"\");\n    const [dateOfBirth, setDateOfBirth] = useState(currentAccount?.details?.birthdate ?? new Date());\n    const [sex, setSex] = useState(currentAccount?.details?.sex ?? \"O\");\n\n\n    const handleChange = (event: any) => {\n        const field = (event?.target?.id ?? \"\") as EditableField;\n        const value = event?.target?.value ?? \"\";\n\n        switch (field) {\n            case \"label\":\n                setLabelField(value)\n                break;\n            case \"first_name\":\n                setFirstNameField(value)\n                break;\n            case \"middle_name\":\n                setMiddleNameField(value)\n                break;\n            case \"last_name\":\n                setLastNameField(value)\n                break;\n            case \"birthday\":\n                setDateOfBirth(value)\n                break;\n            case \"sex\":\n                setSex(value)\n                break;\n            // ...\n        }\n    }\n\n    const handleSubmit = async () => {\n\n        if (labelField && firstNameField && middleNameField && lastNameField && dateOfBirth && sex) {\n            const changeRq = await dispatchCommand(AccountChange, currentAccount?.id || \"\", JSON.parse(JSON.stringify({ label: labelField, details: {  first_name: firstNameField, middle_name: middleNameField, last_name: lastNameField, birthdate: dateOfBirth.toString(), sex: sex } })));\n\n            if (changeRq.status === 204) {\n                const account = await dispatchCommand(AccountInfo, currentAccount?.id || \"\", true);\n\n                if (account.status === 200) {\n                    dispatchStore(setCurrentAccount(account.data));\n                }\n\n                history.push(\"/home\");\n            }\n        } else {\n            // TODO: Error message and Alert component!\n            alert(\"Implement error handling!\");\n        }\n    }\n\n    return <div>\n        <div className={classes.imgContainer}>\n            <img className={classes.personalImage} src={personalInformationImage} alt=\"PersonalInformation\" />\n            <img className={classes.wave} src={waveAsset} alt=\"wave\" />\n        </div>\n        <div className={classes.root}>\n\n            <Typography className={classes.welcomeTitle} variant=\"h2\">{translated.title} {currentAccount?.label}</Typography>\n\n            <Typography style={{ opacity: \"0.7\", marginBottom: \"35px\" }} paragraph>Here you need to provide us with some data about you. Name, Surname etc.</Typography>\n\n            <Typography style={{ paddingBottom: \"16px\" }} variant=\"h4\">Personal information</Typography>\n            <Flex flexDirection=\"column\" className={classes.inputWrapper}>\n                <TextField style={{ marginBottom: \"15px\" }} id=\"label\" label=\"Label\" variant=\"outlined\" value={labelField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"first_name\" label=\"First Name\" variant=\"outlined\" value={firstNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"middle_name\" label=\"Middle Name\" helperText=\"Optional\" variant=\"outlined\" value={middleNameField} onChange={handleChange} />\n                <TextField style={{ marginBottom: \"15px\" }} id=\"last_name\" label=\"Last Name\" variant=\"outlined\" value={lastNameField} onChange={handleChange} />\n                <TextField id=\"birthday\" label=\"Birthday\" type=\"date\" defaultValue=\"1990-01-01\" InputLabelProps={{ shrink: true, }} value={dateOfBirth} onChange={handleChange}/>\n            </Flex>\n\n            <Button style={{ color: \"white\", float: \"right\", marginBottom: \"15px\" }} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>Save</Button>\n\n        </div>\n\n    </div>\n}\n\nexport default Welcome;","export default __webpack_public_path__ + \"static/media/circles-logo.420d4698.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    backgroundColor: theme.palette.background.paper\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin, AccountChange } from 'api/commands';\nimport { setBackgroundTheme, setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\nimport firebase from \"firebase/app\"\nimport { useSnackbar } from \"notistack\";\nimport { backgroundThemes } from 'utils/backgroundThemes';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(accountInfo.data));\n\n                    // Initialize bgTheme.\n                    const bgThemeId = localStorage.getItem('background-theme') || '1922729';\n                    const bgTheme = (backgroundThemes.find(bgT => bgT.id.toString() === bgThemeId.toString()) ?? backgroundThemes[0]) as { id: string, url: string, label: string };\n\n                    dispatch(setBackgroundTheme(bgTheme));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        // Navigate to welcome page.\n                        history.push(\"/welcome\")\n                    } else {\n                        // TODO: Find a better place for this!\n                        const messaging = firebase?.messaging();\n                        if(messaging && accountInfo.data) {\n                          messaging?.requestPermission()\n                            .then(async function() {\n                              const token = await messaging.getToken();\n                    \n                              if((!accountInfo.data?.tokens || !accountInfo.data?.tokens?.includes(token))) {\n                                \n                                  let newTokens = accountInfo.data?.tokens ?? [];\n                                  newTokens.push(token);\n                    \n                                  await dispatchCommand(AccountChange, accountInfo.data?.id, { tokens: newTokens })\n                              }\n                    \n                              console.log(token);\n                            })\n                            .catch(function(err) {\n                              console.log(\"Unable to get permission to notify.\", err);\n                            });\n                          navigator.serviceWorker.addEventListener(\"message\", (message) => {\n                            enqueueSnackbar(message?.data?.[\"firebase-messaging-msg-data\"]?.notification?.body);\n                            console.log(message);\n                          });\n                        }\n\n                        // Navigate to initial path or fallback to home.\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\" className={classes.root}>\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    position: \"relative\",\n    minWidth: \"calc(100% - 385px)\",\n    maxWidth: \"max-content\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: \"calc(100vh - 72px)\",\n    justifyContent: \"space-between\",\n    backdropFilter: \"blur(10px)\",\n    borderTopLeftRadius: theme.shape.borderRadius,\n    borderTopRightRadius: theme.shape.borderRadius,\n    \n    [theme.breakpoints.down(\"sm\")]: {\n      flexBasis: \"100%\",\n      minWidth: \"100%\",\n      width: \"100%\",\n    },\n  },\n  inputContainer: {\n    position: \"relative\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    marginBottom: theme.spacing(1)\n  },\n  inputBackground: {\n    backgroundColor: theme.palette.background.paper,\n    borderRadius: 200,\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"flex-start\",\n    width: \"95%\",\n  },\n  roomTitle: {\n  },\n  roomTitleBox: {\n    marginLeft: \"12px\",\n  },\n  messagesRoot: {\n    minWidth: \"70vw\",\n    width: \"100%\",\n    position: \"relative\",\n    maxHeight: \"calc(100vh - 36px)\",\n    height: \"90%\",\n    flexGrow: 1,\n    overflow: \"auto\",\n    display: \"flex\",\n    [theme.breakpoints.down(\"sm\")]: {\n      minWidth: \"70vw\" // TODO: Change to more static value.\n\n    }\n  },\n  messageRoot: {\n    borderRadius: \"15px\",\n  },\n  ownedMessage: {\n    margin: \"3px \",\n    alignSelf: \"flex-end\",\n    color: \"#000\",\n    backgroundColor: \"#eee\",\n    borderRadius: \"15px\",\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  notOwnedMessage: {\n    alignSelf: \"flex-start\",\n    margin: \"15px 0\",\n    color: \"#FFF\",\n    background: theme.palette.primary.main,\n    '& > *': {\n      margin: 0,\n      maxWidth: \"240px\",\n      whiteSpace: \"normal\",\n      wordBreak: \"break-word\",\n    },\n    '& > * > *':{\n      maxWidth: \"240px\",\n    },\n  },\n  messageWithManyLines:{\n    margin: \"8px 0\",\n  },\n  message: {\n    maxWidth: \"450px\",\n    position: \"relative\",\n    padding: \"16px 18px\",\n    borderRadius: \"25px\",\n    textAlign: \"left\",\n  },\n  nextMessageOwned:{\n    borderBottomRightRadius: \"4px\",\n  },\n  nextMessageNotOwned:{\n    borderBottomLeftRadius: \"4px\",\n    marginBottom: \"3px\",\n  },\n  prevMessageOwned: {\n    borderTopRightRadius: \"4px\",\n  },\n  prevMessageNotOwned: {\n    borderTopLeftRadius: \"4px\",\n    marginTop: \"3px\",\n  },\n  equalToLine: {\n    paddingLeft: \"34px\",\n  },\n  sendMessageArea:{\n    position: \"fixed\",\n  },\n  avatar: { borderRadius: \"28px\", width: \"28px\", height: \"28px\", backgroundColor: \"white\", color: \"#242424\", right: \"-19px\", bottom: \"0px\", position: \"relative\", padding: \"3px\", zIndex: 5 },\n  chatBoxHeader: {\n    width: \"100%\",\n    height: \"100px\",\n    backgroundColor: theme.palette.background.paper\n  }\n}));\n\nexport default useStyles;","import React, { useCallback, useState, useEffect, useRef } from \"react\";\nimport { Typography, Avatar } from \"@material-ui/core\";\nimport { useMessages } from \"api/messages\";\nimport { IAccount, IMessage } from \"types\";\nimport { useStore } from \"store/hooks\";\nimport useStyles from \"./styles\";\nimport Flex from \"components/utils/Flex\";\nimport cx from \"classnames\";\nimport ReactMarkdown from \"react-markdown\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\nconst Messages = ({ roomId, accounts }: { roomId: string, accounts: IAccount[] }) => {\n    const messages = useMessages(roomId) || {};\n\n    const getAuthor = useCallback((author_id) => accounts.find(account => account.id === author_id) ?? null, [accounts]);\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n    const hasMessages = Object.keys(messages).length !== 0;\n\n    return <Flex flexDirection=\"column-reverse\" style={{ marginBottom: \"15px\", overflowY: \"scroll\", height: \"calc(90vh - 152px)\" }}>\n        {messages && !hasMessages ?\n            <Typography variant=\"h2\" style={{ marginLeft: \"30px\" }}>Say Hi!</Typography>\n            :\n            Object.keys(messages).reverse().map((message_id: string, index: number) => {\n\n                const message = messages[message_id];\n\n                return <Message\n                    key={message_id}\n                    message={message}\n                    author={getAuthor(message.author)}\n                    displayAvatar={message.author !== messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedNextMessage = {message.author === messages[Object.keys(messages).reverse()[index - 1]]?.author}\n                    isOwnedPrevMessage = {message.author === messages[Object.keys(messages).reverse()[index + 1]]?.author}\n                    isOwned={currentAccount?.id === message.author} />\n            })\n        }\n    </Flex>\n}\n\nconst Message = ({ message, author, isOwned, displayAvatar, isOwnedNextMessage, isOwnedPrevMessage }: { message: IMessage, author: IAccount | null, isOwned: boolean, displayAvatar: boolean, isOwnedNextMessage: boolean, isOwnedPrevMessage: boolean }) => {\n    const classes = useStyles();\n    const [height, setHeight] = useState(0);\n    const ref = useRef(null);\n\n    let value = message.value;\n    try {\n        value = atob(message.value);\n    } catch (err) {\n        console.log(err);\n    }\n\n    const rootClasses = cx(classes.message, { [classes.ownedMessage]: isOwned, [classes.notOwnedMessage]: !isOwned, [classes.messageWithManyLines]: height>150, [classes.nextMessageNotOwned]: isOwnedNextMessage && !isOwned, [classes.prevMessageNotOwned]: isOwnedPrevMessage && !isOwned, [classes.nextMessageOwned]: isOwnedNextMessage && isOwned, [classes.prevMessageOwned]: isOwnedPrevMessage && isOwned});\n    const bubbleClasses = cx({[classes.ownedMessage]: isOwned ,[classes.messageRoot]: !isOwned ,[classes.equalToLine]: !displayAvatar && !isOwned})\n\n    useEffect(() => {\n        setHeight((ref as any).current.offsetHeight);\n    }, [])\n\n    const authorFullName = makeFullName(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n    const authorInitials = makeInitials(author?.details?.first_name, author?.details?.last_name, author?.label ?? \"Unknown\")\n\n    return <Flex alignItems=\"flex-end\" className={bubbleClasses} style={{ alignSelf: isOwned ? \"flex-end\" : \"flex-start\"}}>\n        {displayAvatar && !isOwned && author && <Avatar alt={authorFullName} className={classes.avatar} src={author.avatar_url}>{authorInitials}</Avatar>}\n        <div className={rootClasses} ref={ref}>\n            <ReactMarkdown source={value} />\n        </div>\n    </Flex>\n}\n\nexport default Messages;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        [`& fieldset`]: {\n            borderRadius: 200,\n        },\n    },  \n}));\n\nexport default useStyles;","import { TextField } from \"@material-ui/core\";\nimport React from \"react\";\nimport useStyles from \"./styles\";\n\n// TODO: ref type.\nconst MessageInput = (props: { inputRef?: any, value: string, onChange: (event: React.FormEvent<HTMLTextAreaElement | HTMLInputElement>) => void, onSubmit?: () => void }) => {\n    const classes = useStyles();\n\n    const handleKeyPress = (event: React.KeyboardEvent<HTMLDivElement>) => {\n        if(event.key === \"Enter\" && !event.shiftKey) {\n            event.preventDefault();\n            props.onSubmit && props.onSubmit();\n        }\n    }\n\n    return <TextField onKeyPress={handleKeyPress} ref={props.inputRef} fullWidth value={props.value} onChange={props.onChange} placeholder=\"Write your message...\" classes={{ root: classes.root }} variant=\"outlined\" />\n}\n\nexport default MessageInput;","export const sendPushNotification = async (registration_ids: string[], title: string, body: string) => {\n  console.log(registration_ids, title, body)\n  //   const FIREBASE_API_KEY = process.env.REACT_APP_FIREBASE_APIKEY ?? \"\";\n  //   const message = {\n  //       token: registration_ids[0], \n  //       notification: {\n  //           title,\n  //           body,\n  //           \"vibrate\": 1,\n  //           \"sound\": 1,\n  //           \"show_in_foreground\": true,\n  //           \"priority\": \"high\",\n  //           \"content_available\": true,\n  //       },\n  //       data: {\n  //           title,\n  //           body,\n  //           score: 50,\n  //           wicket: 1\n  //       }\n  // }\n  \n  //   let headers = new Headers({\n  //     \"Content-Type\": \"application/json\",\n  //     \"Authorization\": \"Bearer \" + FIREBASE_API_KEY\n  //   });\n\n  //   let response = await fetch(\"https://fcm.googleapis.com/v1/projects/ping-82fee/messages:send\", { method: \"POST\", headers, body: JSON.stringify(message) })\n  //   response = await response.json();\n  //   console.log(response);\n  }","import React, { useState, useRef } from 'react';\nimport { IconButton, Icon, Box } from '@material-ui/core';\nimport MessageInput from 'components/common/MessageInput';\nimport { sendPushNotification } from \"api/fcm\";\nimport useStyles from './styles';\n\nconst MessageForm = (props: { onSubmit: (value: string) => void }) => {\n    const [input, setInput] = useState(\"\");\n    const classes = useStyles();\n    const ref = useRef<HTMLInputElement | undefined>();\n\n    const handleTextFieldFocus = () => {\n        if(ref.current)\n            ref.current?.focus();\n    }\n\n    const handleSubmit = async (event?: React.FormEvent<HTMLFormElement>) => {\n        if(event) event.preventDefault();\n\n        if(input.length > 0) {\n            try {\n                props.onSubmit(btoa(input));\n                setInput(\"\");\n                handleTextFieldFocus();\n\n                await sendPushNotification([\"dcSXVLtXIAUTyhxv_vpAOC:APA91bE-13ugAh4qEcf8PT3n1r84pbIGZ2Hm5xv4S054SO_wRs3mGM0xCw-0nphyB7wYVthrL6lGZR8qy6qx1--wzUIuqACVNGfow29Lf1EdA-Bh6bb1-VPgiGtx-EF_Z1KPxRu6nZE4\"], \"New message\", input);\n            } catch(err) {\n                console.log(err);\n                alert(\"Message contains invalid characters.\")\n            }\n        }\n    }\n    \n    const handleChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n        // @ts-ignore\n        setInput(event.target?.value ?? \"\");\n    }\n\n    return <form id=\"message-form\" className={classes.inputContainer} onSubmit={handleSubmit}>\n        <Box className={classes.inputBackground}>\n            <MessageInput inputRef={ref} value={input} onChange={handleChange} onSubmit={handleSubmit} />\n            <IconButton onClick={() => handleSubmit()}>\n                <Icon color=\"primary\">send</Icon>\n            </IconButton>\n        </Box>\n    </form>\n}\n\nexport default MessageForm;","import React from 'react';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\n\nconst MessagesSkeleton = () => {\n    return (\n        <div style={{ width: \"fit-content\", marginLeft: \"10px\" }}>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={150} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={120} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={80} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={120} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={100} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={240} height={160} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={40} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n            <Skeleton animation=\"wave\" variant=\"rect\" width={210} height={50} style={{margin: \"20px 34px 10px 0px\", borderRadius: \"10px\"}}/>\n        </div>\n    );\n};\n\nexport default MessagesSkeleton;","import React, { useMemo } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { Typography, Box } from \"@material-ui/core\";\nimport Messages from \"./Messages\";\nimport MessageForm from \"./MessageForm\";\nimport { useRoom } from \"api/hooks\";\nimport { useMessageSubmit } from \"api/messages\";\nimport MessagesSkeleton from \"./MessagesSkeleton\";\nimport useStyles from './styles';\nimport { ensureArray, makeFullName } from \"utils/general\";\n\n// TODO: Show skeleton when switching rooms.\nconst RoomView = () => {\n    const params = useParams<{id: string}>();\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n    const room = useRoom(params.id);\n    const submitMessage = useMessageSubmit(params.id, currentAccount?.id ?? \"\");\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== currentAccount?.id);\n    const reducedRoomMembers = roomMembers.map(acc => makeFullName(acc?.details?.first_name, acc?.details?.last_name, acc?.label))\n    const roomName = roomMembers.length > 1 ? room?.label : makeFullName(roomMembers?.[0]?.details?.first_name, roomMembers?.[0]?.details?.last_name, roomMembers?.[0]?.label ?? \"Unknown\");\n\n    const membersEl = useMemo(() => {\n        let result = reducedRoomMembers.slice(0, 3).join(\", \");\n\n        if (reducedRoomMembers.length > 3) {\n            // TODO: Include translations - requires react-littera upgrade.\n            result += ` and ${reducedRoomMembers.length - 3} more`\n        }\n\n        return result;\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [reducedRoomMembers.length]);\n\n    return <Box className={classes.root}>\n        {(!room || !room.id) ?\n            <MessagesSkeleton />\n            :\n            <>\n                <Box className={classes.chatBoxHeader} display=\"flex\" justifyContent=\"space-between\" alignItems=\"center\">\n                    <Box className={classes.roomTitleBox}>\n                        <Typography variant=\"h5\" className={classes.roomTitle}>{roomName}</Typography>\n                        {roomMembers.length > 1 && <Typography style={{ opacity: 0.65 }}>{membersEl}</Typography>}\n                    </Box>\n                </Box>\n            \n                <Box>\n                    <Messages accounts={room?.accounts ?? []} roomId={room.id} />\n                    <MessageForm onSubmit={submitMessage} />\n                </Box>\n            </>}\n    </Box>\n}\n\nexport default RoomView;\n","import React from \"react\";\nimport RoomView from \"./RoomView\";\n\n/**\n * Room page component.\n */\nconst Room = () => {\n\n    return (\n        <RoomView />\n    )\n}\n\nexport default Room;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    marginRight: \"10%\"\n    },\n    welcome: {\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    avatarContainer: {\n      position: \"relative\",\n    },\n  welcomeWraper: {\n      position: \"relative\",\n      display: \"flex\",\n    },\n    greetings: {\n      width: \"100%\",\n      color: \"white\",\n      margin: 0,\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\",\n      fontFamily: \"'Roboto Condensed', sans-serif\",\n      fontWeight: 400\n\n    },\n    suggestionsInfo: {\n      width: \"100%\",\n      margin: 0,\n      color: \"white\",\n      fontSize: \"26px\",\n      textShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\"\n    },\n  }));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    greeting: {\n        en_US: \"Hi\",\n        pl_PL: \"Witaj\",\n        de_DE: \"Hallo\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","// * Translations\nconst translations = (preset: any) => ({\n    firstMessage: {\n        en_US: \"Write to this member 1st time\",\n        pl_PL: \"Napisz do tej osoby poraz pierwszy\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        marginTop: \"20px\",\n        overflowY: \"auto\",\n    },\n    card: {\n        borderRadius: \"8px\",\n        margin: \"10px auto\", width: \"100%\"\n    },\n    suggestionAvatar: {\n        marginRight: theme.spacing(4),\n        width: \"48px\",\n        height: \"48px\"\n    }\n}));\n\nexport default useStyles;","import React, { useEffect, useRef } from 'react';\nimport { AccountInfo } from 'api/commands';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { useCommand } from 'api/hooks';\nimport { Card, CardContent, Typography, Box, Avatar } from '@material-ui/core';\nimport translations from \"./trans\";\nimport { useLittera } from \"react-littera\";\nimport { IAccount, TSuggestion } from \"types\";\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\nimport { makeFullName, makeInitials } from 'utils/general';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst Suggestion = ({suggestion, index}: {suggestion: TSuggestion, index: string}) => {\n    const classes = useStyles();\n\n    const [translated] = useLittera(translations);\n    const { payload, type } = suggestion;\n    const scrollRef = useRef(null);\n\n    const accountRq = useCommand(AccountInfo, payload?.account_id);\n    const [account] = useForkedState<any, IAccount>(rq => isLoaded(rq) ? rq.data : null, accountRq);\n  \n    useEffect(() => {\n        \n    }, [suggestion])\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add a loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return (\n        <Card className={classes.card} id={index} ref={scrollRef} style={{zIndex: parseInt(index)}}>\n                <CardContent>\n                <Box display=\"flex\" alignItems=\"center\" justifyContent=\"flex-start\">\n                    <Avatar className={classes.suggestionAvatar} src={account.avatar_url} alt={accountFullName} >{accountInitials}</Avatar>\n                    <Box>\n                        <Typography variant=\"h5\">\n                            {accountFullName}\n                        </Typography>\n\n                        <Typography>\n                            {type === \"never-messaged\" ? translated.firstMessage : type}\n                        </Typography>\n                    </Box>\n                </Box>\n                </CardContent>\n            </Card>\n    );\n};\n\nexport default Suggestion;","import { AccountGetSuggestions } from 'api/commands';\nimport { useCommand } from 'api/hooks';\nimport React, {useRef} from 'react';\nimport { useStore } from 'store/hooks';\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport Suggestion from './Suggestion';\nimport useStyles from \"./styles\";\nimport gsap from 'gsap';\nimport ScrollTrigger from 'gsap/ScrollTrigger';\n\ngsap.registerPlugin(ScrollTrigger);\n\nconst AccountSuggestions = () => {\n    const classes = useStyles();\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n    const scrollRef = useRef(null);\n\n    const suggestionsRq = useCommand(AccountGetSuggestions, currentAccount?.id)\n    const [suggestions] = useForkedState(rq => isLoaded(rq) ? rq.data : null, suggestionsRq);\n\n    return (\n           <section className={classes.root} ref={scrollRef}>\n           {suggestions?.length !== 0 ? suggestions?.map((suggestion:any) => {\n               return (                  \n                        <Suggestion \n                        suggestion={suggestion}  \n                        index={suggestions.indexOf(suggestion)} \n                        key={suggestions.indexOf(suggestion)}   \n                        />\n               )\n           }): null}\n           </section>\n    );\n};\n\nexport default AccountSuggestions;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        justifyContent: \"flex-start\",\n        alignItems: \"center\",\n        margin: \"10px 0\",\n    },\n    image: {\n        width: \"50px\",\n        height: \"50px\",\n        borderRadius: \"50px\",\n        marginRight: \"10px\",\n        boxShadow: \"0px 3px 9px rgba(0, 0, 0, .25)\"\n    }\n}));\n\nexport default useStyles;","import { Avatar } from \"@material-ui/core\";\nimport { AccountInfo } from \"api/commands\";\nimport { useCommand } from \"api/hooks\";\nimport { isLoaded } from \"api/utils\";\nimport React from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { ensureArray, makeFullName, makeInitials } from \"utils/general\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport useStyles from \"./styles\";\n\ntype AccountFavContactsProps = {\n\n}\n\nconst AccountFavContacts = (props: AccountFavContactsProps) => {\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount ?? null);\n\n\n    return <div className={classes.root}>\n        {\n            ensureArray(currentAccount?.friends)\n                .filter(c => !!c.favorite)\n                .map(c => <AccountContactBadge {...c} />)\n        }\n    </div>\n}\n\ntype AccountContactBadgeProps = {\n    account_id: string;\n    favorite: boolean;\n    last_contacted?: string;\n}\n\nconst AccountContactBadge = (props: AccountContactBadgeProps) => {\n    const classes = useStyles();\n    const accountRq = useCommand(AccountInfo, props.account_id);\n    const [account] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountRq);\n\n    if (!account || account.flags?.includes(\"needs_init\")) return null; // TODO: Add loader...\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label);\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label);\n\n    return <Avatar className={classes.image} src={account.avatar_url} alt={accountFullName}>{accountInitials}</Avatar>\n}\n\nexport default AccountFavContacts","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\";\nimport translations from \"./trans\";\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport AccountSuggestions from \"components/common/AccountSugestions\";\nimport AccountFavContacts from \"components/common/AccountFavContacts\";\n\n/**\n * Home page component.\n */\nconst Highlights = () => {\n  const [translated] = useLittera(translations);\n  const classes = useStyles();\n\n  const currentAccount = useStore(state => state.currentAccount);\n\n  return (\n    <div className={classes.root}>\n      <section className={classes.welcomeWraper}>\n        <section className={classes.welcome}>\n          <Typography className={classes.greetings} variant='h2'>{translated.greeting}, {currentAccount?.details?.first_name}!</Typography>\n          <Typography className={classes.suggestionsInfo} variant='h5'>Here are some suggestions for you</Typography>\n        </section>\n      </section>\n      <AccountFavContacts />\n      <AccountSuggestions />\n    </div>\n  );\n};\n\nexport default Highlights;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n\n    },\n}));\n\nexport default useStyles;","import React, { useEffect } from \"react\";\nimport useStyles from \"./styles\";\nimport { useCommand } from \"api/hooks\";\nimport { AccountList } from \"api/commands\";\nimport { useForkedState } from \"utils/hooks/general\";\nimport { isLoaded } from \"api/utils\";\nimport { IAccount } from \"types\";\nimport { CircularProgress, Avatar, Typography, Icon } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport Flex from \"components/utils/Flex\";\nimport { makeFullName, makeInitials } from \"utils/general\";\n\ntype AccountPickerProps = {\n    onChange: React.Dispatch<React.SetStateAction<string[]>> | React.Dispatch<React.SetStateAction<string>>;\n    value: string | string[]\n    multiple?: boolean;\n    style?: any;\n    disabled?: boolean;\n}\n\n/**\n * \n * describe this function...\n */\nconst AccountPicker = (props: AccountPickerProps) => {\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.friends?.map(friend => friend.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        // @ts-ignore\n        props.onChange((prevValue: any) => ([]));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    const handleChange = (account_id: string) => {\n        if(props.disabled) return;\n\n        // TODO: Ugly code, refactor that!!\n        // @ts-ignore\n        props.onChange((value: any) => {\n            if(props.multiple && Array.isArray(value)) {\n                let arr = [...value];\n\n                if(arr.includes(account_id)) arr.splice(value.indexOf(account_id), 1);\n                else arr.push(account_id);\n    \n                return [...arr];\n            } else {\n                return value === account_id ? \"\" : account_id;\n            }\n        });\n    }\n\n    if(!accounts) return <Flex width=\"100%\" height=\"60px\" alignItems=\"center\" justifyContent=\"center\"><CircularProgress /></Flex>\n\n    return <div className={classes.root} style={props.style}>\n        {\n            accounts.map((account: IAccount) =>\n                <SingleAccount key={account.id} account={account} onClick={(account_id) => handleChange(account_id)} selected={props.value.includes(account.id)} /> )\n        }\n    </div>\n}\n\n/**\n * \n * Describe this function...\n */\nconst SingleAccount = ({ account, onClick, selected }: { account: IAccount, onClick: (account_id: string) => void, selected: boolean }) => {\n\n    const handleClick = () => {\n        onClick(account.id);\n    }\n\n    const accountFullName = makeFullName(account.details?.first_name, account.details?.last_name, account.label)\n    const accountInitials = makeInitials(account.details?.first_name, account.details?.last_name, account.label)\n\n    return <Flex style={{paddingTop: \"12px\", cursor: \"pointer\"}} onClick={handleClick} justifyContent=\"flex-start\" alignItems=\"center\">\n            <Avatar \n            style={{ width: \"54px\", height: \"54px\", backgroundColor: selected ? \"green\" : undefined }}\n            alt={accountFullName}  \n                src={selected ? undefined : account.avatar_url }>\n            {selected ? <Icon>check</Icon> : accountInitials}\n                </Avatar>\n\n            <div style={{margin: \"0 0 0 20px\"}}>\n            <Typography style={{ margin: \"0\" }} variant=\"h6\">{accountFullName}</Typography>\n            <Typography style={{ margin: \"0\", opacity: \".6\" }}>{account.contact?.email}</Typography>\n            </div>\n        </Flex>\n}\n\nexport default AccountPicker;","// * Translations\nconst translations = (preset: any) => ({\n    conversation: {\n        en_US: \"New conversation\",\n        pl_PL: \"Nowa rozmowa\",\n        de_DE: \"Hallo!\",\n    },\n    createRoom: {\n        en_US: \"Create room\",\n        pl_PL: \"Stwórz pokój!\",\n        de_DE: \"Hallo!\",\n    },\n    invite: {\n        en_US: \"Invite Friends\",\n        pl_PL: \"Zaproś znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    select: {\n        en_US: \"Select a Friend\",\n        pl_PL: \"Wybierz znajomych\",\n        de_DE: \"Hallo!\",\n    },\n    selected: {\n        en_US: \"Selected\",\n        pl_PL: \"Wybrano\",\n        de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n    yes: preset.yes\n})\n\nexport default translations;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    topMenu: {\n        display: \"flex\",\n    },\n    listWrapper: {\n        position: \"relative\",\n        overflowY: \"scroll\",\n        width: \"100%\",\n        height: \"calc(100% - 100px)\",\n    },\n    roomWrapper: {\n        position: \"relative\",\n        margin: \"auto 10px auto 0\",\n        width: \"385px\",\n        backgroundColor: \"#fff\",\n        boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n        borderRadius: \"20px\",\n        height: \"80vh\",\n        overflow: \"hidden\",\n        minWidth: \"296px\",\n        transition: \"all 255ms ease\"\n    },\n    roomWrapperExpanded: {\n        margin: \"auto 0px auto 0\",\n        width: \"385px\",\n        boxShadow: \"7px 11px 15px rgba(0, 0, 0, .25)\",\n        borderRadius: \"20px 0px 0 20px\",\n        height: \"100%\",\n        minWidth: \"296px\",\n    },\n    roomsButton: {\n        display: \"block\",\n        width: \"100%\",\n        height: \"100px\",\n        backgroundColor: \"#fff\",\n        borderRadiusBottom: \"1px solid #eee\",\n        borderRadius: \"0px\",\n    },\n    roomItemWrapper: {\n        overflow: \"hidden\",\n        width: \"100%\",\n        padding: \"30px 24px\",\n        textAlign: \"left\",\n        backgroundColor: \"#fff\",\n        cursor: \"pointer\",\n        transition: \"backgroundColor 255ms ease\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        \"&:hover\": {\n            backgroundColor: \"#f5f5f5\",\n        }\n    },\n    avatarPlaceholder: {\n        height: \"42px\",\n        width: \"42px\",\n        borderRadius: \"42px\",\n        backgroundColor: \"#9C6\",\n        marginRight: \"20px\"\n    },\n    lastMessageTypography: { fontSize: \"14px\", opacity: 0.45, textOverflow: \"ellipsis\", overflow: \"hidden\", whiteSpace: \"nowrap\" }\n  }));\n\n  export default useStyles;\n","import React from 'react'\nimport { Button, Dialog, DialogTitle, DialogContent, DialogActions, TextField, Typography } from '@material-ui/core';\nimport AccountPicker from 'components/common/AccountPicker';\nimport { useHistory } from 'react-router-dom';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { useDispatchCommand } from 'api/hooks';\nimport { RoomCreate } from 'api/commands';\nimport Flex from 'components/utils/Flex';\nimport { Alert } from '@material-ui/lab';\nimport { updateCurrentAccount } from 'store/actions';\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\nimport useStyles from \"./styles\";\n\nconst CreateRoom = () => {\n    const [error, setError] = React.useState(\"\");\n    const [loading, setLoading] = React.useState(false);\n    const [open, setOpen] = React.useState(false);\n    const [selected, setSelected] = React.useState<string[]>([]);\n    const [label, setLabel] = React.useState(\"\");\n    const classes = useStyles();\n  \n    const history = useHistory();\n    const currentAccount = useStore(state => state.currentAccount);\n    const dispatchCommand = useDispatchCommand();\n    const dispatchStore = useDispatch();\n    const [translated] = useLittera(translations);\n\n    const handleClickOpen = () => {\n      setOpen(true);\n    };\n    const handleClose = () => {\n      setOpen(false);\n    };\n\n    const handleSubmit = async () => {\n      setLoading(true);\n      const newRoom = await dispatchCommand(RoomCreate, currentAccount?.id ?? \"\", label, selected);\n\n      if (newRoom.status === 200) {\n        // Refetch current account to display updated rooms list.\n        dispatchStore(await updateCurrentAccount(currentAccount?.id ?? \"\"));\n\n        const room_id = newRoom!.data!.room_id;\n        history.push(`/home/room/${room_id}`)\n      } else if(newRoom.status === 404) {\n        // @ts-ignore\n        setError(newRoom?.message ?? \"Unexpected error occurred\")\n      }\n\n      setLoading(false);\n    }\n\n    const handleLabelChange = (event: React.FormEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n      // @ts-ignore\n      const value = event?.target?.value ?? \"\";\n\n      setLabel(value);\n    }\n\n    const isSubmitDisabled = label.length === 0 || selected.length === 0 || loading;\n\n    return <div>\n        <Button variant=\"contained\" onClick={handleClickOpen} className={classes.roomsButton}>{translated.conversation}</Button>\n        \n        <Dialog fullWidth onClose={handleClose} aria-labelledby=\"customized-dialog-title\" open={open}>\n          <DialogTitle id=\"customized-dialog-title\">\n            {translated.createRoom}\n          </DialogTitle>\n          \n          <DialogContent dividers>\n            {error && <Alert severity=\"error\">{error}</Alert>}\n\n            <TextField disabled={loading} fullWidth id=\"outlined-basic\" label=\"Room name\" value={label} onChange={handleLabelChange} variant=\"outlined\" />\n\n            <Typography style={{marginTop: \"35px\"}} variant=\"h5\" >{translated.invite}</Typography>\n            \n            <AccountPicker disabled={loading} style={{margin: \"20px 0\"}} multiple value={selected} onChange={setSelected} />\n          </DialogContent>\n          \n          <DialogActions>\n            <Flex width=\"100%\" justifyContent=\"space-between\" alignItems=\"center\">\n              \n              {selected.length > 0 ? <Typography>Selected {selected.length} {selected.length > 1 ? \"friends\" : \"friend\"}</Typography>\n              : <Typography>Select a friend</Typography>}\n\n              <div>\n                <Button autoFocus onClick={handleClose} color=\"primary\">\n                  Close\n                </Button>\n                <Button disabled={isSubmitDisabled} autoFocus onClick={handleSubmit} color=\"primary\">\n                  Create\n                </Button>\n              </div>\n            </Flex>\n          </DialogActions>\n        </Dialog>\n    </div>\n\n\n}\n\n\n\nexport default CreateRoom;\n","import React from 'react';\nimport { Avatar, Typography, Box } from \"@material-ui/core\";\nimport { AvatarGroup } from \"@material-ui/lab\";\nimport { useHistory } from \"react-router-dom\";\nimport { useStore } from \"store/hooks\";\nimport { IAccount, IRoom } from \"types\";\nimport CreateRoom from \"./CreateRoom\";\nimport useStyles from \"./styles\";\nimport { useAccount, useRoom } from 'api/hooks';\nimport { ensureArray, makeFullName, makeInitials } from 'utils/general';\nimport { useMessages } from 'api/messages';\nimport cx from \"classnames\";\n\nconst Rooms = () => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const isRoomOpen = history.location.pathname.includes(\"/room/\");\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return (\n        <Box className={cx(classes.roomWrapper, { [classes.roomWrapperExpanded]: isRoomOpen })}>\n            <CreateRoom />\n            <Box className={classes.listWrapper}>\n                {\n                    currentAccount?.rooms && currentAccount.rooms.map(room => <RoomLabel key={room.id} {...room} />)\n                }\n            </Box>\n        </Box>\n    )\n}\n\nconst RoomLabel = (props: IRoom) => {\n    const history = useHistory();\n    const classes = useStyles();\n\n    const roomUri = `/home/room/${props.id}`;\n    const handleNavigation = () => history.push(roomUri);\n\n    const account = useAccount();\n    const room = useRoom(props.id, true);\n    const messages = useMessages(props.id);\n\n    if (!room || !room.accounts) return null;\n\n    const lastMessage = Object.values(messages)[Object.keys(messages).length - 1];\n\n    let lastMessageValue: string | null = lastMessage?.value ?? null;\n    try {\n        if (lastMessageValue)\n            lastMessageValue = atob(lastMessage.value);\n    } catch (err) {\n        lastMessageValue = null;\n        console.log(err);\n    }\n\n    const roomMembers = ensureArray(room?.accounts).filter(acc => acc.id !== account?.id);\n    const roomName = roomMembers.length > 1 ? props.label : makeFullName(roomMembers?.[0]?.details?.first_name, roomMembers?.[0]?.details?.last_name, roomMembers?.[0]?.label ?? \"Unknown\");\n\n    return <Box onClick={handleNavigation} className={classes.roomItemWrapper}>\n        <Box style={{ marginRight: \"10px\", maxWidth: \"220px\" }}>\n            <Typography variant=\"h6\" style={{ fontSize: \"20px\" }}>{roomName}</Typography>\n            {lastMessageValue && <Typography className={classes.lastMessageTypography}>{lastMessageValue}</Typography>}\n        </Box>\n        <AvatarGroup style={{}} max={3} spacing={16}>\n            {room.accounts?.filter(acc => acc.id !== account?.id).map(accountsMap)}\n        </AvatarGroup>\n    </Box>\n}\n\nconst accountsMap = (account: IAccount) => {\n    const accountFullName = makeFullName(account?.details?.first_name, account?.details?.last_name, account?.label ?? \"Unknown\");\n    const accountInitials = makeInitials(account?.details?.first_name, account?.details?.last_name, account?.label ?? \"Unknown\");\n\n    return <Avatar alt={accountFullName} src={account.avatar_url}>\n        {accountInitials}\n    </Avatar>\n}\n\nexport default Rooms;","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    title: {\n        padding: \"5vh 0\",\n        width: \"100%\",\n        textAlign: \"center\",\n    },\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    personData: {\n        display: \"flex\",\n        width: \"50%\",\n        margin: \"15px auto\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n    contacts: {\n        width: \"100%\",\n        \n    },\n    avatar: {\n        margin: \"0 20px\",\n    },\n    text: {\n        width: \"100%\",\n        textAlign: \"center\",\n    },\n  }));\n\n  export default useStyles;\n","import { Avatar, Typography } from '@material-ui/core';\nimport React, { useEffect, useState } from 'react';\nimport { TContact } from \"types\";\nimport { useCommand } from 'api/hooks';\nimport { useForkedState } from 'utils/hooks/general';\nimport { isLoaded } from 'api/utils';\nimport { AccountList } from 'api/commands';\nimport { useStore } from 'store/hooks';\nimport useStyles from \"./styles\";\n\nconst ContactLabel = (props: TContact) => {\n    const [name, setName] = useState('')\n    const [avatar, setAvatar] = useState('')\n    const classes = useStyles();\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const accountsRq = useCommand(AccountList, currentAccount?.friends?.map(friend => friend.account_id));\n    const [accounts] = useForkedState(rq => isLoaded(rq) ? rq.data : null, accountsRq)\n\n    useEffect(() => {\n        accounts?.forEach((account : any) => {\n            if(account.id === props.account_id) {\n                return (\n                    setName(`${account.name} ${account.surname}`),\n                    setAvatar(account.avatar_url)\n                )\n            }\n        })\n    })\n\n    console.log(currentAccount, accounts,  props.account_id);\n\n    return (\n        <section className={classes.personData}>\n            <Avatar className={classes.avatar} alt=\"user\" src={avatar}/>\n            <Typography color={props.favorite ? \"primary\" : \"initial\"}>\n                {name}\n            </Typography>\n        </section>    \n    );\n};\n\nexport default ContactLabel;","// * Translations\nconst translations = (preset: any) => ({\n    peopleMessage: {\n        en_US: \"You don't have any frients on the list.\",\n        pl_PL: \"Nie masz nikogo na liście znajomych.\",\n        // de_DE: \"Hallo!\",\n    },\n    // Example preset use. See src/utils/hooks/locale.ts for more.\n})\n\nexport default translations;","import React from 'react';\nimport { Typography } from \"@material-ui/core\";\nimport { useStore } from \"store/hooks\";\nimport ContactLabel from './ContactLabel';\nimport useStyles from \"./styles\";\nimport { useLittera } from \"react-littera\";\nimport translations from \"./trans\";\n\n\nconst People = () => {\n    const classes = useStyles();\n    const [translated] = useLittera(translations);\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    return <div className={classes.root}>\n        <Typography variant=\"h2\" gutterBottom className={classes.title}>People</Typography>\n        <section className={classes.contacts}>\n            {\n                currentAccount ? \n                currentAccount?.friends && currentAccount.friends.map(friend => <ContactLabel key={friend.account_id} {...friend} />) \n                : <Typography variant=\"h3\" className={classes.text}>{translated.peopleMessage}</Typography>\n            }\n        </section>\n    </div>\n}\n\nexport default People;","import { makeStyles } from \"@material-ui/core\";\n\nconst sidebarWidth = 114;\nconst sidebarMargin = 20;\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"100vh\",\n        width: \"100vw\",\n        maxWidth: \"100%\",\n        overflow: \"hidden\",\n        [theme.breakpoints.down(\"sm\")]: {\n            height: \"auto\"\n        }\n    },\n    container: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flexGrow: 2,\n        width: `calc(100% - ${sidebarWidth + sidebarMargin}px)`,\n        height: \"100%\"\n    },\n    sidebar: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"flex-start\",\n        width: sidebarWidth,\n        marginRight: sidebarMargin,\n        height: \"100vh\",\n        padding: \"15px 0\",\n        background: \"linear-gradient(to right, rgba(0, 0, 0, 0.35), transparent)\"\n    },\n    backgroundImage: {\n        backgroundPosition: \"center\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        height: \"100vh\",\n        width: \"auto\",\n        minWidth: \"100%\",\n        zIndex: -2\n    },\n    backgroundImageBacklit: {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        zIndex: -1,\n        width: \"100vw\",\n        height: \"100vh\",\n        backgroundColor: \"rgba(0, 0, 0, .2)\"\n    },\n    mainSection: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"space-between\",\n        alignItems: \"flex-start\",\n        height: \"calc(100vh - 72px)\", // depends on appbar height.\n        [theme.breakpoints.down(\"sm\")]: {\n            flexDirection: \"column-reverse\",\n            justifyContent: \"flex-start\",\n            alignItems: \"center\"\n        }\n    },\n\n    drawer: {\n        width: \"60%\"\n    }\n}));\n\nexport default useStyles;\n","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n      menuIcon: {\n    fontSize: \"40px\",\n    cursor: \"pointer\",\n    color: \"white\",\n    \"& svg\": {\n      boxShadow: \"1px 3px 3px rgba(0, 0, 0, .25)\"\n    }\n\n      }\n  }));\n\n  export default useStyles;\n","import React, { useState } from 'react';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport MenuOpenIcon from '@material-ui/icons/MenuOpen';\nimport useStyles from \"./styles\";\n\nconst Menu = () => {\n    const classes = useStyles();\n    const [isOpenMenu, setIsOpenMenu] = useState(false);\n\n    const toggleMenu = () => {\n        setIsOpenMenu(!isOpenMenu);\n    };\n\n    return (\n        <>\n        <section onClick={toggleMenu}>\n            {isOpenMenu ? <MenuOpenIcon className={classes.menuIcon}/> : <MenuIcon className={classes.menuIcon}/>}  \n        </section>\n        </>  \n    );\n};\n\nexport default Menu;","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // position: \"fixed\",\n    // top: \"0\",\n    // right: \"0\",\n    height: \"100vh\",\n    width: \"45vw\",\n    backgroundColor: \"white\",\n    zIndex: 4,\n    // transform: \"translateX(100%)\",\n  },\n}));\n\n  export default useStyles;\n","// * Translations\nconst translations = (preset: any) => ({\n    title: {\n        en_US: \"Profile\",\n        pl_PL: \"Profil\",\n        de_DE: \"Profil\",\n    },\n    signOut: {\n        en_US: \"Sign Out\",\n        pl_PL: \"Wyloguj się\",\n        de_DE: \"Ausloggen\",\n    },\n})\n\nexport default translations;","import React from \"react\";\nimport { useLittera } from \"react-littera\";\nimport useStyles from \"./styles\"\nimport translations from \"./trans\"\nimport { CircularProgress, Typography, Button } from \"@material-ui/core\";\nimport { useAccount } from \"api/hooks\";\nimport { signOut } from \"api/auth\";\nimport { setCurrentAccount } from \"store/actions\";\nimport { useDispatch } from \"store/hooks\";\nimport { useStorageSetter } from \"storage/hooks\";\n\n/**\n * Profile page component.\n */\nconst Profile = () => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const currentAccount = useAccount(undefined, true);\n\n    if(!currentAccount) return <CircularProgress />\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        window.location.reload(true);\n    };\n\n    return (\n      <div className={classes.root}>\n          {translated.title}\n          <img  alt=\"profile\" src={currentAccount.avatar_url} style={{width: \"220px\", height: \"auto\"}} />\n          <Typography paragraph>{currentAccount.label}</Typography>\n        <Typography paragraph>{currentAccount?.details?.first_name}</Typography>\n        <Typography paragraph>{currentAccount?.details?.last_name}</Typography>\n        <Typography paragraph>{currentAccount.contact?.email}</Typography>\n          <section>\n          {currentAccount && (\n            <Button variant='contained' onClick={handleSignOut}>\n              {translated.signOut}\n            </Button>\n          )}\n        </section>\n      </div>\n    )\n}\n\nexport default Profile;","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    example: {\n        en_US: \"Example\",\n        de_DE: \"Beispiel\",\n        pl_PL: \"Przykład\"\n    },\n    signOut: {\n        en_US: \"Sign out\",\n        de_DE: \"Ausloggen\",\n        pl_PL: \"Wyloguj się\"\n\n    },\n    manageAccount: {\n        en_US: \"Manage account\",\n        de_DE: \"Konto verwalten\",\n        pl_PL: \"Zarządzaj kontem\"\n\n    },\n    settings: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Here we define translations for the component.\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default {\n    title: {\n        de_DE: \"Einstellungen\",\n        en_US: \"Settings\",\n        pl_PL: \"Ustawienia\"\n    }\n}","// Deps scoped imports.\nimport React from \"react\";\nimport { Drawer, IconButton, makeStyles, Typography } from \"@material-ui/core\";\nimport CloseIcon from \"@material-ui/icons/Close\"\nimport { useLittera } from \"react-littera\";\nimport cx from \"classnames\";\n\n// Project scoped imports.\nimport { useDispatch, useStore } from \"store/hooks\";\nimport { setBackgroundTheme } from \"store/actions\";\nimport Flex from \"components/utils/Flex\";\nimport { backgroundThemes } from \"utils/backgroundThemes\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\nimport translations from \"./trans\";\n\n/**\n * Settings drawer component.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst SettingsDrawer = (props: SettingsDrawerProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    return <div className={cx(classes.root, props.className)} style={props.style}>\n        <Drawer open={props.open} anchor=\"right\" onClose={props.onClose} className={classes.drawer} keepMounted>\n            <div className={classes.paperDrawer}>\n                <Flex alignItems=\"center\" justifyContent=\"space-between\" style={{ marginBottom: \"10px\" }}>\n                    <Typography variant=\"h4\">{translated.title}</Typography>\n                    <IconButton onClick={props.onClose}><CloseIcon /></IconButton>\n                </Flex>\n\n                <ThemeSettings />\n                <VersionSettings />\n            </div>\n        </Drawer>\n    </div>\n}\n\nconst VersionSettings = () => {\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Version</Typography>\n        <Typography>{process.env.REACT_APP_VERSION ?? \"0.0.0-dev.0\"}</Typography>\n        <Typography>{process.env.REACT_APP_BUILD_TIME ?? new Date().toDateString()}</Typography>\n    </div>\n}\n\nconst ThemeSettings = () => {\n    // @ts-ignore\n    const bgTheme = useStore(state => state.preferences?.backgroundTheme);\n    const dispatch = useDispatch();\n\n    const setTheme = (index: number) => {\n        dispatch(setBackgroundTheme(backgroundThemes[index]))\n        localStorage.setItem('background-theme', backgroundThemes[index].id)\n    }\n\n    return <div style={{ margin: \"20px 0\" }}>\n        <Typography variant=\"h5\" gutterBottom>Theme</Typography>\n\n        <Flex flexWrap=\"wrap\">\n            {backgroundThemes.map((theme, index) => <ThemePanel key={theme.id} setTheme={() => setTheme(index)} active={(bgTheme?.id?.toString() || '1922729') === theme.id} {...theme} />)}\n        </Flex>\n    </div>\n}\n\nconst ThemePanel = (props: { id: string, label: string, url: string, setTheme: () => void, active: boolean }) => {\n\n    return <div style={{ margin: \"0 5px\", cursor: 'pointer' }} onClick={props.setTheme}>\n        <div style={{ width: \"200px\", height: \"125px\", overflow: \"hidden\", borderRadius: \"8px\" }}>\n            <img src={`${props.url}200x125`} alt=\"theme thumbnail\" />\n        </div>\n        <p style={{ marginTop: \"5px\", fontWeight: props.active ? \"bold\" : \"normal\" }}>{props.label}</p>\n    </div>\n}\n\n// Creates a hook for generating classnames.\n// @ts-ignore\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype SettingsDrawerProps = {\n    className?: string;\n    style?: React.CSSProperties\n    open: boolean;\n    onOpen: () => void;\n    onClose: () => void;\n}\n\n// Time to export! 🚚\nexport default SettingsDrawer;","// Here we define styles for the component.\n\nimport { Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => ({\n    root: {\n        // Container styles...\n    },\n    h2: {\n        // Head text styles...\n        color: \"#000\"\n    },\n    drawer: {\n        //width: \"40vw\"\n    },\n    paperDrawer: {\n        position: \"relative\", padding: \"10px 20px\",\n        width: \"40vw\"\n    }\n}));","// Deps scoped imports.\nimport React, { useState } from \"react\";\nimport { Avatar, Box, Drawer, Icon, List, ListItem, ListItemIcon, ListItemText, makeStyles, Popover, Typography } from \"@material-ui/core\";\nimport cx from \"classnames\";\nimport { useDispatch, useStore } from \"store/hooks\";\nimport { useLittera } from \"react-littera\";\n\n// Project scoped imports.\nimport { makeFullName } from \"utils/general\";\nimport { Profile } from \"components/pages\";\nimport { setCurrentAccount } from \"store/actions\";\n\n// Component scoped imports.\nimport translations from \"./trans\"\nimport styles from \"./styles\";\nimport { signOut } from \"api/auth\";\nimport { useStorageSetter } from \"storage/hooks\";\nimport SettingsDrawer from \"components/common/SettingsDrawer\";\n\n/**\n * Menu Popover\n * @description The popover showed when clicking on own profile picture.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst MenuPopover = (props: MenuPopoverProps) => {\n    const [translated] = useLittera(translations);\n    const classes = useStyles();\n\n    const [shownSettingsDrawer, setShownSettingsDrawer] = useState(false);\n    const openSettingsDrawer = () => setShownSettingsDrawer(true);\n    const closeSettingsDrawer = () => setShownSettingsDrawer(false);\n\n    const [shownProfileDrawer, setShownProfileDrawer] = useState(false);\n    const openProfileDrawer = () => setShownProfileDrawer(true);\n    const closeProfileDrawer = () => setShownProfileDrawer(false);\n\n    const currentAccount = useStore(state => state.currentAccount);\n\n    const [anchorEl, setAnchorEl] = React.useState<HTMLElement | null>(null);\n\n    const handleClick = (event: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? 'profile-popover' : undefined;\n\n    const accountFullName = makeFullName(currentAccount?.details?.first_name, currentAccount?.details?.last_name, currentAccount?.label ?? \"Unknown\");\n\n    const storageSetter = useStorageSetter();\n    const storeDispatch = useDispatch();\n\n    const handleSignOut = async () => {\n        await signOut();\n        storageSetter(\"accountIdToken\");\n        storeDispatch(setCurrentAccount(null));\n        window.location.reload(true);\n    };\n\n    return <>\n        <Avatar aria-describedby={id} className={classes.avatar} alt=\"user\" src={currentAccount?.avatar_url} onClick={handleClick} />\n\n        <Popover\n            id={id}\n            open={open}\n            anchorEl={anchorEl}\n            onClose={handleClose}\n            classes={{\n                root: cx(classes.root, props.className),\n                paper: classes.popoverPaper\n            }}\n            style={props.style}\n            anchorReference=\"anchorEl\"\n            anchorOrigin={{\n                vertical: 'bottom',\n                horizontal: 'right',\n            }}\n            transformOrigin={{\n                vertical: 'top',\n                horizontal: 'right',\n            }}\n        >\n            <Box display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                <Box className={classes.header} display=\"flex\" flexDirection=\"column\" justifyContent=\"flex-start\" alignItems=\"center\">\n                    <Avatar className={classes.avatarBig} alt={accountFullName} src={currentAccount?.avatar_url} />\n                    <Typography variant=\"h5\">{accountFullName}</Typography>\n                    <Typography style={{ opacity: 0.6 }}>{currentAccount?.contact?.email}</Typography>\n                </Box>\n\n                <List aria-label=\"profile settings signout\" style={{ width: \"88%\" }}>\n                    <ListItem button onClick={() => { openProfileDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>person</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.manageAccount} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { openSettingsDrawer(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>settings</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.settings} />\n                    </ListItem>\n\n                    <ListItem button onClick={() => { handleSignOut(); handleClose(); }}>\n                        <ListItemIcon>\n                            <Icon>lock</Icon>\n                        </ListItemIcon>\n                        <ListItemText primary={translated.signOut} />\n                    </ListItem>\n                </List>\n            </Box>\n        </Popover>\n\n        <Drawer anchor=\"right\" open={shownProfileDrawer} onClose={closeProfileDrawer}>\n            <Box style={{ width: \"55vw\", height: \"100vh\", backgroundColor: \"#FFF\" }}>\n                <Profile />\n            </Box>\n        </Drawer>\n\n        <SettingsDrawer open={shownSettingsDrawer} onClose={closeSettingsDrawer} onOpen={openSettingsDrawer} />\n    </>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype MenuPopoverProps = {\n    className?: string;\n    style?: React.CSSProperties;\n}\n\n// Time to export! 🚚\nexport default MenuPopover;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        // Container styles...\n        marginTop: \"10px\"\n    },\n    h4: {\n        // Head text styles...\n        color: theme.palette.primary.main\n    },\n    avatar: {\n        cursor: \"pointer\",\n        marginLeft: \"15px\",\n        position: \"relative\"\n    },\n    avatarBig: {\n        cursor: \"pointer\",\n        width: \"82px\",\n        height: \"82px\",\n        position: \"relative\",\n        marginBottom: theme.spacing(4)\n    },\n    popoverPaper: {\n        width: \"288px\",\n        borderRadius: \"10px\"\n    },\n    header: {\n        padding: `${theme.spacing(5)}px ${theme.spacing(4)}px`,\n    },\n\n}));","import { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        textAlign: \"left\",\n        margin: \"0 0\",\n        textShadow: \"1px 3px 4px rgba(0, 0, 0, .3)\",\n        fontFamily: \"'Montserrat', sans-serif\",\n        fontWeight: 600\n    },\n}));\n\nexport default useStyles;\n","import { Typography, TypographyProps } from \"@material-ui/core\";\nimport useStyles from \"./styles\";\nimport React from \"react\";\n\ntype LogoProps = {\n    typographyProps?: TypographyProps,\n    style?: Object\n    onClick?: () => void;\n}\n\nconst Logo = (props: LogoProps) => {\n    const classes = useStyles();\n\n    const style = {\n        ...props.style,\n        // Set cursor to pointer if the Logo is clickable.\n        cursor: props.onClick ? \"pointer\" : \"initial\"\n    }\n\n    return <Typography onClick={props.onClick} variant=\"h2\" className={classes.root} style={style} {...props.typographyProps}>Circles</Typography>\n}\n\nexport default Logo;","// Deps scoped imports.\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\n\n// Project scoped imports.\nimport MenuPopover from \"./MenuPopover\";\nimport Logo from \"../Logo\";\nimport Flex from \"components/utils/Flex\";\n\n// Component scoped imports.\nimport styles from \"./styles\";\n\n/**\n * Example component\n * @description This is an example component including translations and theming.\n * @version 1.0.0\n * @author Mike Eling <mike.eling97@gmail.com>\n */\nconst TopMenu = (props: TopMenuProps) => {\n    const classes = useStyles();\n    const history = useHistory();\n\n    const handleNavigation = (path: string) => () =>\n        history.push(path)\n\n    return <section className={classes.root} style={props.style}>\n        <Logo style={{ fontSize: \"56px\", margin: \"16px 0\" }} onClick={handleNavigation('/home/highlights')} />\n        <Flex justifyContent=\"flex-end\" alignItems=\"center\" className={classes.menuBar}>\n            <MenuPopover />\n        </Flex>\n    </section>\n}\n\n// Creates a hook for generating classnames.\nconst useStyles = makeStyles(styles);\n\n// Props the component accepts.\ntype TopMenuProps = {\n    className?: string;\n    style?: React.CSSProperties\n}\n\n// Time to export! 🚚\nexport default TopMenu;","// Here we define styles for the component.\n\nimport { createStyles, Theme } from \"@material-ui/core\";\n\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default ((theme: Theme) => createStyles({\n    root: {\n        position: \"relative\",\n        display: \"flex\",\n        height: \"72px\",\n        width: \"100%\",\n        margin: \"0 auto\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        color: \"white\",\n    },\n    menuBar: {\n        marginRight: \"3vw\"\n    },\n\n}));","import React, { useState, useEffect } from 'react';\nimport useStyles from \"./styles\";\nimport { Route, useHistory } from 'react-router-dom';\nimport { useStore } from 'store/hooks';\nimport { backgroundThemes } from 'utils/backgroundThemes';\nimport Menu from '../Menu';\nimport TopMenu from 'components/common/TopMenu';\n\nconst HighlightsLazy = React.lazy(() => import(\"../Highlights/\"));\nconst RoomLazy = React.lazy(() => import(\"../Room/\"));\n\nconst RoomsLazy = React.lazy(() => import(\"../Rooms/\"));\nconst PeopleLazy = React.lazy(() => import(\"../People/\"));\n\nfunction Home() {\n  const classes = useStyles();\n  const history = useHistory();\n\n\n  // @ts-ignore\n  const bgTheme = useStore(state => state?.preferences?.backgroundTheme || backgroundThemes[0])\n\n  const [isRoomsView] = useState(true);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  useEffect(() => {\n    history.push(\"/home/highlights\");\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <>\n      <section className={classes.root}>\n        <div className={classes.sidebar}>\n          <Menu />\n        </div>\n        <div className={classes.container}>\n          <TopMenu />\n          <main className={classes.mainSection}>\n            {/* new conversation and Layouts for home screen */}\n            {isRoomsView ? <RoomsLazy /> : <PeopleLazy />}\n            <Route path=\"/home/highlights\" component={HighlightsLazy} />\n            <Route path=\"/home/room/:id\" component={RoomLazy} /> \n          </main>\n        </div>\n      </section>\n      <div className={classes.backgroundImageBacklit} ></div>\n      <div className={classes.backgroundImage} style={{ backgroundImage: `url(${bgTheme?.url}${window.innerWidth}x${window.innerHeight})` }} ></div>\n    </>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}