{"version":3,"sources":["store/hooks.ts","store/reducer.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","api/commands.ts","components/utils/Flex.tsx","utils/hooks/general.ts","api/hooks.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","store/actions.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/setPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","api/client.ts","api/utils.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass.js","storage/hooks.ts","config/config.ts","storage/storage.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper.js","utils/backgroundThemes.ts","../node_modules/regenerator-runtime/runtime.js","assets/circles-logo.svg","components/pages/Splash/styles.ts","components/pages/Splash/index.tsx"],"names":["useStore","stateFn","context","useContext","StoreContext","useMemo","useDispatch","useRef","action","console","log","type","payload","setStore","state","changes","currentAccount","preferences","backgroundTheme","reduceState","current","module","exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread2","target","i","length","source","forEach","getOwnPropertyDescriptors","defineProperties","defineProperty","AccountInfo","account_id","flags","rooms","friends","checkType","status","data","checkField","contact","created_at","Date","Command","AccountChange","JSON","stringify","AccountList","included","volume","AccountLogin","token","RoomInfo","room_id","accounts","RoomCreate","label","invite","AccountGetSuggestions","Flex","props","reducedProps","_props","includes","reduceProps","style","freeze","display","rootEl","rootComponent","React","createElement","cloneElement","onClick","className","children","useForkedState","ref","signal","useSignal","setState","val","useEffect","useRestrictedPage","condition","path","history","useHistory","useRestrictedPageForCurrentAccount","useState","updateState","useCallback","HOST_URL","config","host_url","cli","Client","useCommand","command","a","_args","execute","rq","useDispatchCommand","useAccount","updateStore","options","dispatchStore","dispatchCommand","id","contacts","accountInfoRq","setCurrentAccount","useRoom","roomInfoRq","_defineProperty","obj","configurable","writable","updateCurrentAccount","setBackgroundTheme","theme","_setPrototypeOf","o","p","setPrototypeOf","__proto__","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","prototype","toString","call","e","url","entries","map","join","once","cmd","exec","makeArguments","reqUrl","headers","Headers","fetch","mode","response","json","parsed_response","catch","isLoaded","request","arrayToStringList","arr","replace","name","t","Array","isArray","types","Error","field","_toConsumableArray","arrayLikeToArray","iter","Symbol","iterator","from","unsupportedIterableToArray","TypeError","_classCallCheck","instance","Constructor","_defineProperties","descriptor","_createClass","protoProps","staticProps","useStorage","storageFn","localStorage","useStorageSetter","resetLocalStorageValue","setLocalStorageValue","setItem","removeItem","_inherits","subClass","superClass","create","constructor","_construct","Parent","Class","Function","bind","_getPrototypeOf","getPrototypeOf","_typeof","_possibleConstructorReturn","ReferenceError","_createSuper","Derived","hasNativeReflectConstruct","isNativeReflectConstruct","result","Super","NewTarget","backgroundThemes","runtime","Op","hasOwn","hasOwnProperty","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","wrap","innerFn","outerFn","tryLocsList","protoGenerator","Generator","generator","Context","_invoke","GenStateSuspendedStart","method","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","ContinueSentinel","sent","_sent","dispatchException","abrupt","record","tryCatch","GenStateSuspendedYield","makeInvokeMethod","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","NativeIteratorPrototype","values","Gp","defineIteratorMethods","AsyncIterator","PromiseImpl","invoke","__await","unwrapped","previousPromise","callInvokeWithMethodAndArg","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","mark","awrap","async","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","useStyles","makeStyles","root","backgroundColor","palette","background","paper","logo","width","height","Splash","location","classes","dispatch","enqueueSnackbar","useSnackbar","accountIdToken","storage","accountLogin","accountInfo","bgThemeId","getItem","bgTheme","find","bgT","messaging","firebase","requestPermission","getToken","tokens","newTokens","navigator","serviceWorker","addEventListener","message","notification","body","initialPath","alignItems","justifyContent","src","alt"],"mappings":"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","file":"static/js/7.aac1a975.chunk.js","sourcesContent":["import { useContext, useRef, useMemo } from \"react\"\nimport { StoreContext, IState } from \"./context\";\nimport { reduceState } from \"./reducer\";\n\n/**\n * Access Store variables.\n * @param stateFn Callback providing Store state.\n * @example const myValue = useStore(state => state.myValue);\n */\nexport const useStore = <T>(stateFn: (state: IState) => T) => {\n    const context = useContext(StoreContext);\n\n    return useMemo(() => stateFn(context[0]), [context, stateFn]);\n}\n\nexport type StoreAction<T=any> = { type: string, payload?: T }\n\n/**\n * Returns dispatch method for Store.\n * @example \n * const dispatch = useDispatch();\n * ...\n * dispatch({ type: \"ACTION_NAME\", payload: \"changes\" });\n */\nexport const useDispatch = () => {\n    const context = useContext(StoreContext);\n\n    const ref = useRef(<T=any>(action: StoreAction<T>) => {\n        console.log(\"ðŸ“\", action.type, \"=>\", action.payload);\n        reduceState(context[1], action)\n    });\n\n    return ref.current;\n}","import { IState } from \"./context\";\nimport { StoreAction } from \"./hooks\";\n\nexport const reduceState = (setStore: React.Dispatch<React.SetStateAction<IState>>, action: StoreAction) => {\n    setStore((state: IState) => {\n        const changes: Partial<IState> = {};\n        \n        // Add actions here!\n        // ! This might seem a little complicated but some refactoring might help.\n        switch(action.type) {\n            case \"SET_CURRENT_ACCOUNT\":\n                changes.currentAccount = {...action.payload};\n                break;\n\n            case \"SET_BACKGROUND_THEME\":\n                // TODO: Make sure to initialize preferences before accessing reducer...\n                if (!changes.preferences) changes.preferences = {};\n                // @ts-ignore\n                changes.preferences.backgroundTheme = { ...action.payload } as { id: string, url: string, label: string }\n                break;\n        }\n\n        return {...state, ...changes}\n    });\n}","module.exports = require(\"regenerator-runtime\");\n","function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import { Command } from \"./client\";\nimport { IAccount } from \"types\";\nimport { checkField, checkType } from \"./utils\";\n\nexport class AccountInfo extends Command {\n    constructor(account_id: string, flags?: boolean, rooms?: boolean, friends?: boolean) {\n        super([\"account-accountInfo\", { account_id, flags: !!flags, rooms: !!rooms, friends: !!friends }]);\n\n        checkType(\"account_id\", account_id, \"string\");\n\n        checkType(\"flags\", flags, \"boolean\", \"undefined\");\n        checkType(\"rooms\", rooms, \"boolean\", \"undefined\");\n        checkType(\"friends\", friends, \"boolean\", \"undefined\");\n    }\n\n    parse(status: number, data: IAccount): IAccount {\n        if(status !== 200) return data;\n\n        checkType(\"data\", data, \"object\");\n\n        checkField(data, \"id\", \"string\");\n        checkField(data, \"label\", \"string\");\n        checkField(data, \"created_at\", \"string\");\n        checkField(data, \"avatar_url\", \"string\", \"undefined\");\n\n        checkField(data, \"contact\", \"object\");\n        if (data.contact)\n            checkField(data.contact, \"email\", \"string\");\n\n        checkField(data, \"details\", \"object\");\n        checkField(data, \"flags\", \"object\", \"undefined\");\n        checkField(data, \"friends\", \"array\", \"undefined\");\n        checkField(data, \"rooms\", \"array\", \"undefined\");\n        \n        return { ...data, created_at: new Date(data.created_at) };\n    }\n}\n\nexport class AccountChange extends Command {\n    constructor(account_id: string, changes: { label?: string, name?: string, surname?: string }) {\n        super([\"account-accountChange\", {account_id, changes: JSON.stringify(changes)}]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountList extends Command {\n    constructor(included?: string[], volume?: number) {\n        super([\"account-accountList\", { volume, included }]);\n\n        checkType(\"volume\", volume, \"number\", \"undefined\");\n        checkType(\"included\", included, \"array\", \"undefined\");\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountCreate extends Command {\n    constructor(data: {email: string, password: string, label?: string}) {\n        super([\"account-accountCreate\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountLogin extends Command {\n    constructor(token: string) {\n        super([\"account-accountLogin\", { token }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountFind extends Command {\n    constructor(data: { email?: string, label?: string }) {\n        super([\"account-accountFind\", data]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountAddContact extends Command {\n    constructor(data: {account_id: string, contact_id: string}) {\n        super([\"account-accountAddContact\", data]);\n    }   \n    \n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n        \n        return data;\n    }\n}\n\nexport class RoomInfo extends Command {\n    constructor(room_id: string, accounts?: boolean) {\n        super([\"room-roomInfo\", { room_id, accounts }]);\n    }\n\n    parse(status: number, data: IAccount) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class RoomCreate extends Command {\n    constructor(account_id: string, label: string, invite: string[]) {\n        super([\"room-roomCreate\", { label, invite: [...invite, account_id] }]);\n    }\n\n    parse(status: number, data: any) {\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n}\n\nexport class AccountGetSuggestions extends Command{\n    // deepcode ignore no-any: Type declaration of 'any' loses type-safety\n    constructor(account_id: string){\n        super([\"account-accountGetSuggestions\", {account_id}]);\n    };\n\n    parse(status: number, data: any){\n        if(status !== 200) return data;\n\n        // TODO: Ensure types.\n        \n        return data;\n    }\n\n}\n","import React from \"react\";\n\ntype FlexAlignType =\n  | 'flex-start'\n  | 'flex-end'\n  | 'center'\n  | 'stretch'\n  | 'baseline'\n\ntype FlexProperties = {\n  inline?: boolean\n  flexDirection?: 'row' | 'column' | 'row-reverse' | 'column-reverse'\n  flexWrap?: 'nowrap' | 'wrap' | 'wrap-reverse'\n  justifyContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'space-between'\n    | 'space-around'\n    | 'space-evenly'\n  alignContent?:\n    | 'flex-start'\n    | 'flex-end'\n    | 'center'\n    | 'stretch'\n    | 'space-between'\n    | 'space-around'\n  alignItems?: FlexAlignType\n}\n\ntype FlexProps = {\n  children: React.ReactNode\n  className?: string\n  onClick?: () => void\n  rootComponent?: React.Component\n  style?: object\n  width?: number | string\n  height?: number | string\n} & FlexProperties\n\nconst reduceProps = (props: FlexProps, ...args: string[]) => {\n    let _props = {...props};\n\n    for(var key in _props) {\n        // @ts-ignore\n        if(args.includes(key)) delete _props[key];\n    }\n\n    return _props;\n}\n\n/**\n * A component for easier flex-box implementation.\n * @example <Flex justifyContent=\"space-between\" alignItems=\"center\">...</Flex>\n */\nconst Flex = (props: FlexProps) => {\n  const reducedProps = reduceProps(props, \"children\", \"className\");\n\n  const style = Object.freeze({\n      display: \"flex\",\n      ...reducedProps,\n      ...props.style\n  });\n\n  const rootEl = props.rootComponent ?? React.createElement(\"div\");\n\n  return React.cloneElement(rootEl as React.ReactElement<any>, { onClick: props.onClick, style, className: props.className, children: props.children });\n}\n\nexport default Flex;","import { useState, useRef, useEffect, useCallback } from \"react\";\nimport { useStore } from \"store/hooks\";\nimport { useHistory } from \"react-router-dom\";\n\nexport const useForkedState = <T extends any[], R>(fn: (...args: T) => R, ...args: T) => {\n    const ref = useRef(null as unknown as [R, (value: R) => void]);\n    const signal = useSignal();\n\n    if(ref.current === null) {\n        const value: R = fn(...args);\n        const setState = (val: R) => { ref.current[0] = val; signal(); }\n\n        ref.current = [ value, setState ];\n    }\n\n    useEffect(() => { \n        const value = fn(...args);\n\n        if(ref.current[0] !== value) \n            ref.current[1](value); \n    }, [fn, args]);\n\n    return ref.current;\n}\n\n/**\n * Redirect to page if condition met\n * @param path for redirect\n * @param condition\n */\nexport const useRestrictedPage = (condition: boolean, path: string = \"/home\" ) => {\n    const history = useHistory();\n    useEffect(() => {\n        if (condition) \n            history.push(path)\n        \n    }, [condition, path, history]);\n}\n\n/**\n * Redirect to page if current account is active\n * @param path for redirect\n */\nexport const useRestrictedPageForCurrentAccount = (path: string = \"/home\") => {\n    const currentAccount = useStore(state => state.currentAccount);\n    useRestrictedPage(!!currentAccount, path)\n}\n\n\n\nexport const useSignal = () => {\n    const [, updateState] = useState();\n    // @ts-ignore\n    return useCallback(() => updateState({}), []);\n}\n","import { useRef, useEffect } from 'react';\nimport { Client } from './client';\nimport { useSignal } from '../utils/hooks/general';\nimport config from '../config/config';\nimport { IAccount, IRoom } from 'types';\nimport { AccountInfo, RoomInfo } from './commands';\nimport { useStore, useDispatch } from 'store/hooks';\nimport { setCurrentAccount } from 'store/actions';\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\nexport const useCommand = (command: any, ...args: any[]) => {\n    const ref = useRef(null as unknown as { status: number, data?: any, message?: string });\n    const signal = useSignal();\n\n    useEffect(() => {\n        ref.current = { status: 102 };\n        \n        const fn = async () => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            ref.current = rq;\n            signal();\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    \n    return ref.current;\n}\n\n/**\n * \n * @param command \n * @param args \n * @example\n * const dispatchCommand = useDispatchCommand();\n * ...\n * dispatchCommand(AccountCreate, \"mike.eling97@gmail.com\", \"ThisIsMyPassBro\")\n */\nexport const useDispatchCommand = () => {\n    const ref = useRef(null as unknown as (command: any, ...args: any[]) => Promise<{ status: number, data: any }>);\n    const signal = useSignal();\n    \n    if(ref.current === null) {\n        \n        const fn = async (command: any, ...args: any[]) => {\n            const _args = args || [];\n            \n            const rq = await cli.execute(new command(..._args))\n            signal();\n            return rq;\n        }\n        ref.current = (command: any, ...args: any[]) => fn(command, ...args);\n    }\n    \n    return ref.current;\n}\n\nexport const useAccount = (account_id?: string, updateStore: boolean = false, options?: { rooms?: boolean, flags?: boolean, contacts?: boolean }) => {\n    const currentAccount = useStore(state => state.currentAccount);\n    const ref = useRef<IAccount | null | undefined>(!account_id ? currentAccount ?? undefined : undefined);\n    const dispatchStore = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const accountInfoRq = (await dispatchCommand(AccountInfo, account_id || currentAccount?.id, options?.flags, options?.rooms, options?.contacts ));\n    \n            if(accountInfoRq.status === 200) {\n                ref.current = accountInfoRq.data as IAccount | null;\n                if(updateStore) dispatchStore(setCurrentAccount(accountInfoRq.data));\n                signal();\n            }\n        }\n    \n        if(account_id || currentAccount?.id)\n            fn();\n            \n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [account_id]);\n    \n    return ref.current ?? null;\n}\n\nexport const useRoom = (room_id: string, accounts?: boolean) => {\n    const ref = useRef<IRoom | null | undefined>();\n    const dispatchCommand = useDispatchCommand();\n    const signal = useSignal();\n\n    useEffect(() => {\n        const fn = async () => {\n            const roomInfoRq = (await dispatchCommand(RoomInfo, room_id, !!accounts));\n\n            if(roomInfoRq.status === 200) {\n                ref.current = roomInfoRq.data as IRoom | null;\n                signal();\n            }\n        }\n\n        if(room_id) fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [room_id]);\n    \n    return ref.current ?? null;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import { IAccount } from \"types\";\nimport config from \"config/config\";\nimport { AccountInfo } from \"api/commands\";\nimport { Client } from \"api/client\";\n\nconst HOST_URL = config.host_url;\nconst cli = new Client(HOST_URL);\n\n/**\n * Set current account.\n * @param payload Account info.\n * @see api/commands/AccountInfo\n */\nexport const setCurrentAccount = (payload: IAccount | null) => {\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Update current account.\n * @param payload account_id\n * @see api/commands/AccountInfo\n */\nexport const updateCurrentAccount = async (account_id: string) => {\n    const rq = await cli.execute(new AccountInfo(account_id, true, true, true))\n\n    const payload: IAccount = rq.data;\n\n    return ({ type: \"SET_CURRENT_ACCOUNT\", payload });\n}\n\n/**\n * Set background theme.\n * @param theme \n */\nexport const setBackgroundTheme = (theme: { id: string, url: string, label: string }) => {\n    return ({ type: \"SET_BACKGROUND_THEME\", payload: theme });\n}","export default function _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","export type TResponse = {status: number, message?: string, data: any};\n\nexport interface IClient {\n    url: string\n}\n\nexport class Client implements IClient {\n    url: string\n\n    constructor(url: string) {\n        this.url = url;\n    }\n\n    makeArguments(args: {[key: string]: string}) {\n        return Object.entries(args).map((e => `${e[0]}=${typeof e[1] === \"object\" ? JSON.stringify(e[1]) : e[1]}`)).join(\"&\");\n    }\n\n    execute(command: ICommand) {\n        return new Promise<{status: number, data: any}>((resolve, reject) => {\n            let once = false;\n            const cmd = command.exec[0];\n            const args = this.makeArguments(command.exec[1]);\n    \n            const reqUrl = `${this.url}${cmd}?${args}`;\n\n            const handleResolve = (response: any) => {\n                if(!once) {\n                    once = true;\n                    \n                    const parsed_response = response\n                    \n                    console.log(\"ðŸ“¶\", cmd, \"=>\", parsed_response);\n                    resolve(parsed_response);\n                }\n                \n            }\n\n            let headers = new Headers({\n                'Access-Control-Allow-Origin':'*',\n                'Content-Type': 'multipart/form-data'\n            });\n\n            fetch(reqUrl, { mode: \"cors\", headers })\n                .then(response => response.json())\n                .then(handleResolve)\n                .catch(reject);\n        })\n    }\n}\n\n\nexport interface ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    parse(status: number, data: any): any\n}\n\nexport class Command implements ICommand {\n    exec: [string, {[key: string]: any}];\n    status: number;\n\n    constructor(exec: [string, {[key: string]: any}]) {\n        this.exec = exec;\n        this.status = 0;\n    }\n\n    parse(status: number, data: any) {\n        return data;\n    }\n}","export const isLoaded = (request: any) => {\n    return request !== null && request.status !== 102\n}\n\nconst arrayToStringList = (arr: string[]) => \n        arr.toString().replace(/,/g, \", \")\n\ntype TType = \"string\" | \"number\" | \"bigint\" | \"boolean\" | \"symbol\" | \"undefined\" | \"object\" | \"function\" | \"null\" | \"array\";\n\n/**\n * Throws an exception if the types are not correct.\n * @param name \n * @param value \n * @param types \n */\nexport const checkType = (name: string, value: any, ...types: TType[]) => {\n    let t: TType = typeof value;\n\n    if (t === \"object\")\n        if (value === null)\n            t = \"null\";\n        else if (Array.isArray(value))\n            t = \"array\";\n\n    if (!types.includes(t))\n        throw new Error(`Expected ${arrayToStringList(types)} for ${name}, got ${typeof value}`)\n\n    return value;\n}\n\n/**\n * Same as checkType but accepts an parent object.\n * @param obj \n * @param field \n * @param types \n */\nexport const checkField = <T, K extends keyof T>(obj: T, field: K, ...types: TType[]) => {\n    let val = obj[field];\n    checkType(field as string, val, ...types);\n    return val;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","export default function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nexport default function _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}","import { IStorage, setLocalStorageValue, resetLocalStorageValue } from \"./storage\";\nimport { useRef } from \"react\";\nimport { useSignal } from \"utils/hooks/general\";\n\n/**\n * Access Local Storage variables.\n * @param storageFn Callback providing Local Storage state.\n * @example const myValue = useStorage(storage => storage.myValue);\n */\nexport const useStorage = <T>(storageFn: (storage: IStorage) => T) => {\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    return storageFn(localStorage as IStorage)\n}\n\n/**\n * Returns local storage value setter.\n * @example\n * const storageSetter = useStorageSetter();\n * ...\n * storageSetter(\"currentAccountId\", \"tester\");\n */\nexport const useStorageSetter = () => {\n    const signal = useSignal();\n    const ref = useRef((key: keyof IStorage, value?: string | null) => {\n        if(value === undefined || value === null) {\n            resetLocalStorageValue(key);\n        } else {\n            setLocalStorageValue(key, value);\n        }\n        signal();\n    });\n\n    return ref.current;\n}","const config = {\n    host_url: \"https://us-central1-ping-82fee.cloudfunctions.net/\" //\"http://localhost:5001/ping-82fee/us-central1/\" //\n};\n\nexport default config;","export interface IStorage {\n    accountIdToken?: string;\n}\n\nexport const getLocalStorageValue = (key: keyof IStorage) => {\n    const storage = localStorage as unknown as IStorage;\n\n    return storage[key];\n}\n\nexport const getLocalStorage = () => {\n    return localStorage as unknown as IStorage;\n}\n\nexport const setLocalStorageValue = (key: keyof IStorage, value: string) => {\n    localStorage.setItem(key, value);\n}\n\nexport const resetLocalStorageValue = (key: keyof IStorage) => {\n    localStorage.removeItem(key);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}","export default function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nimport possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nexport default function _createSuper(Derived) {\n  var hasNativeReflectConstruct = isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = getPrototypeOf(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return possibleConstructorReturn(this, result);\n  };\n}","\nexport const backgroundThemes = [\n    {\n        id: \"1103088\",\n        label: \"One color\",\n        url: \"https://source.unsplash.com/collection/1103088/\"\n    },\n    {\n        id: '1971015',\n        label: \"Simplicity\",\n        url: \"https://source.unsplash.com/collection/1971015/\"\n    },\n    {\n        id: '1426076',\n        label: \"Pastel & Sparkle\",\n        url: \"https://source.unsplash.com/collection/1426076/\"\n    },\n    {\n        id: \"1111575\",\n        label: \"Space\",\n        url: \"https://source.unsplash.com/collection/1111575/\"\n    },\n    {\n        id: \"1922729\",\n        label: \"From above\",\n        url: \"https://source.unsplash.com/collection/1922729/\"\n    },\n];","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n","export default __webpack_public_path__ + \"static/media/circles-logo.420d4698.svg\";","import { makeStyles } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n    backgroundColor: theme.palette.background.paper\n    },\n\n    logo: {\n        width: \"300px\",\n        height: \"300px\"\n    }\n  }));\n\n  export default useStyles;\n","import React, { useEffect } from 'react';\nimport logo from \"assets/circles-logo.svg\";\nimport useStyles from \"./styles\";\nimport Flex from 'components/utils/Flex';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'store/hooks';\nimport { useStorage } from 'storage/hooks';\nimport { AccountInfo, AccountLogin, AccountChange } from 'api/commands';\nimport { setBackgroundTheme, setCurrentAccount } from 'store/actions';\nimport { useDispatchCommand } from 'api/hooks';\nimport firebase from \"firebase/app\"\nimport { useSnackbar } from \"notistack\";\nimport { backgroundThemes } from 'utils/backgroundThemes';\n\nconst Splash = () => {\n    const history = useHistory();\n    const state = history.location.state as { initialPath?: string };\n\n    const classes = useStyles();\n\n    const dispatch = useDispatch();\n    const dispatchCommand = useDispatchCommand();\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const accountIdToken = useStorage(storage => storage.accountIdToken);\n    \n    useEffect(() => {\n        if(!accountIdToken) {\n            history.push(\"/intro\");\n            return;\n        }\n        \n        const fn = async () => {\n            const accountLogin = await dispatchCommand(AccountLogin, accountIdToken);\n\n            const account_id = accountLogin?.data?.account_id;\n            if(account_id) {\n                const accountInfo = (await dispatchCommand(AccountInfo, account_id, true, true, true));\n                if(accountInfo.status === 200) {\n                    dispatch(setCurrentAccount(accountInfo.data));\n\n                    // Initialize bgTheme.\n                    const bgThemeId = localStorage.getItem('background-theme') || '1922729';\n                    const bgTheme = (backgroundThemes.find(bgT => bgT.id.toString() === bgThemeId.toString()) ?? backgroundThemes[0]) as { id: string, url: string, label: string };\n\n                    dispatch(setBackgroundTheme(bgTheme));\n\n                    if(accountInfo.data?.flags?.includes(\"needs_init\")) {\n                        // Navigate to welcome page.\n                        history.push(\"/welcome\")\n                    } else {\n                        // TODO: Find a better place for this!\n                        const messaging = firebase?.messaging();\n                        if(messaging && accountInfo.data) {\n                          messaging?.requestPermission()\n                            .then(async function() {\n                              const token = await messaging.getToken();\n                    \n                              if((!accountInfo.data?.tokens || !accountInfo.data?.tokens?.includes(token))) {\n                                \n                                  let newTokens = accountInfo.data?.tokens ?? [];\n                                  newTokens.push(token);\n                    \n                                  await dispatchCommand(AccountChange, accountInfo.data?.id, { tokens: newTokens })\n                              }\n                    \n                              console.log(token);\n                            })\n                            .catch(function(err) {\n                              console.log(\"Unable to get permission to notify.\", err);\n                            });\n                          navigator.serviceWorker.addEventListener(\"message\", (message) => {\n                            enqueueSnackbar(message?.data?.[\"firebase-messaging-msg-data\"]?.notification?.body);\n                            console.log(message);\n                          });\n                        }\n\n                        // Navigate to initial path or fallback to home.\n                        history.push(state?.initialPath ?? \"/home\")\n                    }\n                } else {\n                    history.push(\"/intro\")\n                }\n            } else {\n                history.push(\"/intro\")\n            }\n        }\n        fn();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return <Flex alignItems=\"center\" justifyContent=\"center\" width=\"100%\" height=\"100vh\" className={classes.root}>\n            <img src={logo} alt=\"logo\" className={classes.logo} />\n        </Flex>\n}\n\nexport default Splash;"],"sourceRoot":""}