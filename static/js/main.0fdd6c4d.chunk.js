(this["webpackJsonpcircles-web"]=this["webpackJsonpcircles-web"]||[]).push([[0],{112:function(e,t,n){e.exports=n.p+"static/media/circles-logo.b212bb26.svg"},116:function(e,t,n){e.exports=n.p+"static/media/intro00.563800af.svg"},117:function(e,t,n){e.exports=n.p+"static/media/intro01.37601bb1.svg"},118:function(e,t,n){e.exports=n.p+"static/media/intro02.1847156e.svg"},119:function(e,t,n){e.exports=n.p+"static/media/verifed.1d3d7325.svg"},121:function(e,t,n){e.exports=n.p+"static/media/celebration.bc0c3204.svg"},122:function(e,t,n){e.exports=n.p+"static/media/personal.ce3bc716.svg"},139:function(e,t,n){e.exports=n(240)},144:function(e,t,n){},240:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(14),i=n.n(o),c=(n(144),n(8)),l=n(295),u=n(29),s=n.n(u),m=n(23),d=n(17),p=n(9),f=n.n(p),v=n(13),h=n(112),b=n.n(h),g=n(278),E=Object(g.a)((function(e){return{root:{color:e.palette.primary.main},logo:{width:"300px",height:"300px"}}})),j=n(45),x=function(e){var t,n=function(e){for(var t=Object(j.a)({},e),n=arguments.length,a=new Array(n>1?n-1:0),r=1;r<n;r++)a[r-1]=arguments[r];for(var o in t)a.includes(o)&&delete t[o];return t}(e,"children","className"),a=Object.freeze(Object(j.a)(Object(j.a)({display:"flex"},n),e.style)),o=null!==(t=e.rootComponent)&&void 0!==t?t:r.a.createElement("div");return r.a.cloneElement(o,{onClick:e.onClick,style:a,className:e.className,children:e.children})},O=Object.freeze({currentAccount:void 0}),w=r.a.createContext([O,function(){}]),y=function(e){var t=Object(a.useContext)(w);return Object(a.useMemo)((function(){return e(t[0])}),[t,e])},k=function(){var e=Object(a.useContext)(w);return Object(a.useRef)((function(t){console.log("\ud83d\udcc1",t.type,"=>",t.payload),function(e,t){e((function(e){var n={};switch(t.type){case"SET_CURRENT_ACCOUNT":n.currentAccount=Object(j.a)({},t.payload)}return Object(j.a)(Object(j.a)({},e),n)}))}(e[1],t)})).current},C=function(e,t){localStorage.setItem(e,t)},S=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/home",n=Object(d.f)();Object(a.useEffect)((function(){e&&n.push(t)}),[e,t,n])},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/home",t=y((function(e){return e.currentAccount}));S(!!t,e)},_=function(){var e=Object(a.useState)(),t=Object(c.a)(e,2)[1];return Object(a.useCallback)((function(){return t({})}),[])},P=function(){var e=_();return Object(a.useRef)((function(t,n){void 0===n||null===n?function(e){localStorage.removeItem(e)}(t):C(t,n),e()})).current},N=n(50),A=n(34),W=n(35),R=n(40),L=n(41),T=function(){function e(t){Object(A.a)(this,e),this.url=void 0,this.url=t}return Object(W.a)(e,[{key:"makeArguments",value:function(e){return Object.entries(e).map((function(e){return"".concat(e[0],"=").concat("object"===typeof e[1]?JSON.stringify(e[1]):e[1])})).join("&")}},{key:"execute",value:function(e){var t=this;return new Promise((function(n,a){var r=!1,o=e.exec[0],i=t.makeArguments(e.exec[1]),c="".concat(t.url).concat(o,"?").concat(i),l=new Headers({"Access-Control-Allow-Origin":"*","Content-Type":"multipart/form-data"});fetch(c,{mode:"cors",headers:l}).then((function(e){return e.json()})).then((function(e){if(!r){r=!0;var t=e;console.log("\ud83d\udcf6",o,"=>",t),n(t)}})).catch(a)}))}}]),e}(),U=function(){function e(t){Object(A.a)(this,e),this.exec=void 0,this.status=void 0,this.exec=t,this.status=0}return Object(W.a)(e,[{key:"parse",value:function(e,t){return t}}]),e}(),D=function(e){return e.toString().replace(/,/g,", ")},B=function(e,t){for(var n=arguments.length,a=new Array(n>2?n-2:0),r=2;r<n;r++)a[r-2]=arguments[r];if(!a.includes(typeof t))throw new Error("Expected ".concat(D(a)," for ").concat(e,", got ").concat(typeof t))},z=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e,a,r,o){return Object(A.a)(this,n),t.call(this,["accountInfo",{account_id:e,flags:!!a,rooms:!!r,contacts:!!o}])}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),H=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e,a){return Object(A.a)(this,n),t.call(this,["accountChange",{account_id:e,changes:JSON.stringify(a)}])}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),M=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e,a){var r;return Object(A.a)(this,n),r=t.call(this,["accountList",{volume:a,included:e}]),B("volume",a,"number","undefined"),B("included",e,"object","undefined"),r}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),F=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e){return Object(A.a)(this,n),t.call(this,["accountLogin",{token:e}])}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),q=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e,a){return Object(A.a)(this,n),t.call(this,["roomInfo",{room_id:e,accounts:a}])}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),G=function(e){Object(R.a)(n,e);var t=Object(L.a)(n);function n(e,a,r){return Object(A.a)(this,n),t.call(this,["roomCreate",{label:a,invite:[].concat(Object(N.a)(r),[e])}])}return Object(W.a)(n,[{key:"parse",value:function(e,t){return t}}]),n}(U),V="https://us-central1-ping-82fee.cloudfunctions.net/",J=new T(V),K=function(e){return{type:"SET_CURRENT_ACCOUNT",payload:e}},Z=function(){var e=Object(v.a)(f.a.mark((function e(t){var n,a;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,J.execute(new z(t,!0,!0,!0));case 2:return n=e.sent,a=n.data,e.abrupt("return",{type:"SET_CURRENT_ACCOUNT",payload:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Q=n(95),Y=new T(V),X=function(){var e=Object(a.useRef)(null),t=_();if(null===e.current){var n=function(){var e=Object(v.a)(f.a.mark((function e(n){var a,r,o,i,c,l=arguments;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(a=l.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=l[o];return i=r||[],e.next=4,Y.execute(Object(Q.a)(n,i));case 4:return c=e.sent,t(),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();e.current=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];return n.apply(void 0,[e].concat(a))}}return e.current},$=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0,o=y((function(e){return e.currentAccount})),i=Object(a.useRef)(e?void 0:null!==o&&void 0!==o?o:void 0),c=k(),l=X(),u=_();return Object(a.useEffect)((function(){var t=function(){var t=Object(v.a)(f.a.mark((function t(){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,l(z,e||(null===o||void 0===o?void 0:o.id),null===r||void 0===r?void 0:r.flags,null===r||void 0===r?void 0:r.rooms,null===r||void 0===r?void 0:r.contacts);case 2:200===(a=t.sent).status&&(i.current=a.data,n&&c(K(a.data)),u());case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(e||(null===o||void 0===o?void 0:o.id))&&t()}),[e]),null!==(t=i.current)&&void 0!==t?t:null},ee=n(22),te=n.n(ee),ne=n(80),ae=function(){var e=Object(d.f)(),t=e.location.state,n=E(),o=k(),i=X(),c=Object(ne.b)().enqueueSnackbar,l=function(e){return e.accountIdToken}(localStorage);return Object(a.useEffect)((function(){l?function(){var n=Object(v.a)(f.a.mark((function n(){var a,r,u,s,m,d,p,h;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i(F,l);case 2:if(r=n.sent,!(u=null===r||void 0===r||null===(a=r.data)||void 0===a?void 0:a.account_id)){n.next=11;break}return n.next=7,i(z,u,!0,!0,!0);case 7:200===(s=n.sent).status?(o(K(s.data)),(null===(m=s.data)||void 0===m||null===(d=m.flags)||void 0===d?void 0:d.includes("needs_init"))?e.push("/welcome"):((h=null===te.a||void 0===te.a?void 0:te.a.messaging())&&s.data&&(null===h||void 0===h||h.requestPermission().then(Object(v.a)(f.a.mark((function e(){var t,n,a,r,o,c,l,u;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.getToken();case 2:if(r=e.sent,(null===(t=s.data)||void 0===t?void 0:t.tokens)&&(null===(n=s.data)||void 0===n||null===(a=n.tokens)||void 0===a?void 0:a.includes(r))){e.next=8;break}return(u=null!==(o=null===(c=s.data)||void 0===c?void 0:c.tokens)&&void 0!==o?o:[]).push(r),e.next=8,i(H,null===(l=s.data)||void 0===l?void 0:l.id,{tokens:u});case 8:console.log(r);case 9:case"end":return e.stop()}}),e)})))).catch((function(e){console.log("Unable to get permission to notify.",e)})),navigator.serviceWorker.addEventListener("message",(function(e){var t,n,a;c(null===e||void 0===e||null===(t=e.data)||void 0===t||null===(n=t["firebase-messaging-msg-data"])||void 0===n||null===(a=n.notification)||void 0===a?void 0:a.body),console.log(e)}))),e.push(null!==(p=null===t||void 0===t?void 0:t.initialPath)&&void 0!==p?p:"/home"))):e.push("/intro"),n.next=12;break;case 11:e.push("/intro");case 12:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()():e.push("/intro")}),[]),r.a.createElement(x,{alignItems:"center",justifyContent:"center",width:"100%",height:"100vh"},r.a.createElement("img",{src:b.a,alt:"logo",className:n.logo}))},re=Object(g.a)((function(e){return{root:{},introViewRoot:{maxWidth:e.breakpoints.values.md,margin:"0 auto"},introViewContentWrapper:{maxWidth:"60%",marginTop:"5%"}}})),oe=function(e){return{title:{en_US:"Intro",pl_PL:"Intro",de_DE:"Intro"},firstTitle:{en_US:"Welcome to safe chat!",pl_PL:"Pierwszy Part",de_DE:"Erstes Part"},secondTitle:{en_US:"Available everywhere",pl_PL:"Drugi Part",de_DE:"Zweiten Part"},thirdTitle:{en_US:"Reliable and Stable",pl_PL:"Trzeci Part",de_DE:"Dreien Part"},yes:e.yes}},ie=n(130),ce=n(282),le=n(33),ue=n(283),se=function(e){var t=e.activePart;return r.a.createElement(x,{justifyContent:"center",alignItems:"center"},r.a.createElement(me,{active:t>=0}),r.a.createElement(me,{active:t>=1}),r.a.createElement(me,{active:t>=2}))},me=function(e){var t=e.active,n=Object(le.a)();return r.a.createElement(ue.a,{style:{opacity:t?1:.15,fontSize:"14px",color:t?n.palette.primary.main:"#000"}},"lens")},de=function(e){var t=re();if(e.activePart!==e.partId)return null;var n=0===e.partId?"Skip":"Back",a=2===e.partId?"Continue":"Next";return r.a.createElement("div",{className:t.introViewRoot,style:{height:"100vh"}},r.a.createElement(x,{flexDirection:"column",alignItems:"center",justifyContent:"space-between"},r.a.createElement(x,{flexDirection:"column",height:"90vh",alignItems:"center",justifyContent:"center"},r.a.createElement(x,{alignItems:"center",justifyContent:"center"},r.a.createElement("img",{src:e.image,alt:e.title,style:{maxWidth:"300px",height:"auto"}})),r.a.createElement(x,{className:t.introViewContentWrapper,alignItems:"center",justifyContent:"center",flexDirection:"column"},r.a.createElement(ie.a,{variant:"h2"},e.title),r.a.createElement(ie.a,{align:"center",paragraph:!0},e.description))),r.a.createElement(x,{justifyContent:"space-evenly",height:"10vh",alignItems:"center",width:"60%"},r.a.createElement(ce.a,{onClick:e.onPrev},n),r.a.createElement(se,{activePart:e.activePart}),r.a.createElement(ce.a,{variant:"contained",color:"primary",onClick:e.onNext},a))))},pe=n(116),fe=n.n(pe),ve=n(117),he=n.n(ve),be=n(118),ge=n.n(be),Ee=function(){var e=Object(d.f)(),t=Object(u.useLittera)(oe),n=Object(c.a)(t,1)[0],o=re(),i=Object(a.useState)(0),l=Object(c.a)(i,2),s=l[0],m=l[1],p=Object(a.useCallback)((function(){m((function(t){return 2===t?(e.push("/login"),t):t+1}))}),[m,e]),f=Object(a.useCallback)((function(){m((function(t){return 0===t?(e.push("/login"),t):t-1}))}),[m,e]);return r.a.createElement("div",{className:o.root},r.a.createElement(de,{activePart:s,partId:0,onNext:p,onPrev:f,image:fe.a,title:n.firstTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."}),r.a.createElement(de,{activePart:s,partId:1,onNext:p,onPrev:f,image:he.a,title:n.secondTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."}),r.a.createElement(de,{activePart:s,partId:2,onNext:p,onPrev:f,image:ge.a,title:n.thirdTitle,description:"Sunt labore do deserunt consectetur fugiat. Eu dolor laborum elit non id amet Lorem aliqua velit. Elit in cillum elit magna incididunt esse."}))},je=n(20),xe=Object(g.a)((function(e){return{root:Object(je.a)({minHeight:"calc(100vh - (300px + 42px))",alignItems:"center"},e.breakpoints.up("sm"),{minHeight:"calc(100vh - (350px + 42px))",alignItems:"flex-start"}),container:{maxWidth:e.breakpoints.values.md,width:"100%",padding:"0 ".concat(e.spacing(4),"px")},inputWrapper:{},loginImage:Object(je.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},e.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(je.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.main,")")},e.breakpoints.up("sm"),{height:"350px"}),wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},footerWrapper:{maxWidth:e.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(e.spacing(4),"px")}}})),Oe=function(e){return{title:{en_US:"Sign in",pl_PL:"B\u0105d\u017a w kontakcie!",de_DE:"Stayen ins Touchejen"},yes:e.yes}},we=n(296),ye=n(286),ke=n(243),Ce=n(287),Se=n(119),Ie=n.n(Se),_e=n(57),Pe=n.n(_e),Ne=(n(120),function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var n=new ee.auth.GoogleAuthProvider;n.addScope("https://www.googleapis.com/auth/contacts.readonly"),ee.auth().signInWithPopup(n).then((function(t){We(),e(t)})).catch((function(e){var n=e.code,a=e.message;console.log("\ud83d\udd12 Authorization =>",n,a),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),Ae=function(){var e=Object(v.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){ee.auth().signInWithEmailAndPassword(t,n).then((function(t){We(),e(t)})).catch((function(e){var t=e.code,n=e.message;console.log("\ud83d\udd12 Authorization =>",t,n),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),We=function(){var e,t,n=null!==(e=null===(t=ee.auth())||void 0===t?void 0:t.currentUser)&&void 0!==e?e:null;n&&n.getIdToken(!0).then((function(e){console.log(e),C("accountIdToken",e)})).catch((function(e){var t=e.code,n=e.message;console.log("\ud83d\udd12 Authorization =>",t,n)}))},Re=function(){var e=Object(v.a)(f.a.mark((function e(t,n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){ee.auth().createUserWithEmailAndPassword(t,n).then((function(t){e(t)})).catch((function(e){var t=e.code,n=e.message;console.log("\ud83d\udd12 Authorization =>",t,n),a(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){ee.auth().signOut().then((function(t){e(t)})).catch((function(e){var n=e.code,a=e.message;console.log("\ud83d\udd12 Authorization =>",n,a),t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=n(297),Ue=n(285),De=function(){var e=Object(d.f)(),t=Object(u.useLittera)(Oe),n=Object(c.a)(t,1)[0],o=xe(),i=X(),l=k(),s=Object(a.useState)(""),m=Object(c.a)(s,2),p=m[0],h=m[1],b=Object(a.useState)(""),g=Object(c.a)(b,2),E=g[0],j=g[1],O=Object(a.useState)(""),w=Object(c.a)(O,2),y=w[0],C=w[1],S=Object(a.useState)(!1),_=Object(c.a)(S,2),P=_[0],N=_[1];I();var A=function(){var t=Object(v.a)(f.a.mark((function t(n){var a,r,o,c;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i(z,(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.uid)||"",!0);case 2:200===(r=t.sent).status?(l(K(r.data)),(null===(o=r.data)||void 0===o||null===(c=o.flags)||void 0===c?void 0:c.includes("needs_init"))?e.push("/welcome"):e.push("/home")):404===r.status&&C("Account not found!"),0!==r.status&&N(!1);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),W=function(e){return function(t){var n,a,r=null!==(n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==n?n:"";P||("email"===e&&h(r),"password"===e&&j(r))}};return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:o.imgContainer},r.a.createElement("img",{className:o.loginImage,src:Ie.a,alt:"loginImage"}),r.a.createElement("img",{className:o.wave,src:Pe.a,alt:""})),r.a.createElement(x,{justifyContent:"center",width:"100%",className:o.root},r.a.createElement("div",{className:o.container},r.a.createElement(ie.a,{variant:"h3",paragraph:!0},n.title),r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),C(""),N(!0),P)||Ae(p,E).then(A).catch((function(e){C(e.message),N(!1)}))}},r.a.createElement(x,{className:o.inputWrapper,flexDirection:"column"},r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"email-input",value:p,onChange:W("email"),type:"email",label:"E-Mail",variant:"outlined"}),r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"password-input",value:E,onChange:W("password"),type:"password",label:"Password",variant:"outlined"})),y&&r.a.createElement(Te.a,{style:{margin:"10px 0"},severity:"error"},r.a.createElement(Ue.a,null,"Upps..."),y),r.a.createElement(x,{justifyContent:"space-between"},r.a.createElement(ce.a,{onClick:function(){e.push("/signup")},color:"primary",type:"button"},"Sign Up"),r.a.createElement(ye.a,{color:"primary","aria-label":"add",type:"submit"},r.a.createElement(ue.a,{style:{color:"white"}},"keyboard_arrow_right")))),r.a.createElement(ce.a,{onClick:function(){C(""),N(!0),Ne().then(A).catch((function(e){C(e.message),N(!1)}))},type:"button"},"Login with Google!"))),r.a.createElement(x,{className:o.footerWrapper,alignItems:"center",justifyContent:"flex-end",height:"42px"},r.a.createElement(ie.a,{align:"right"},"Forgot password?")),P?r.a.createElement(ke.a,{open:!0,style:{zIndex:5}},r.a.createElement(Ce.a,{color:"primary"})):null)},Be=Object(g.a)((function(e){return{root:Object(je.a)({minHeight:"calc(100vh - (300px + 42px))",alignItems:"center"},e.breakpoints.up("sm"),{minHeight:"calc(100vh - (350px + 42px))",alignItems:"flex-start"}),container:{maxWidth:e.breakpoints.values.md,width:"100%",padding:"0 ".concat(e.spacing(4),"px")},inputWrapper:{},signImage:Object(je.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},e.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(je.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.main,")")},e.breakpoints.up("sm"),{height:"350px"}),wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},footerWrapper:{maxWidth:e.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(e.spacing(4),"px")}}})),ze=function(e){return{title:{en_US:"Sign up",pl_PL:"B\u0105d\u017a w kontakcie!",de_DE:"Stayen ins Touchejen"},yes:e.yes}},He=n(121),Me=n.n(He),Fe=function(){var e=Object(d.f)(),t=Object(u.useLittera)(ze),n=Object(c.a)(t,1)[0],o=Be(),i=P(),l=Object(a.useState)(""),s=Object(c.a)(l,2),m=s[0],p=s[1],h=Object(a.useState)(""),b=Object(c.a)(h,2),g=b[0],E=b[1],j=Object(a.useState)(""),O=Object(c.a)(j,2),w=O[0],y=O[1],k=Object(a.useState)(""),C=Object(c.a)(k,2),S=C[0],_=C[1],N=Object(a.useState)(!1),A=Object(c.a)(N,2),W=A[0],R=A[1];I();var L=function(e){return function(t){var n,a,r=null!==(n=null===t||void 0===t||null===(a=t.target)||void 0===a?void 0:a.value)&&void 0!==n?n:"";W||("email"===e&&p(r),"password"===e&&E(r),"password-confirm"===e&&y(r))}};return r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("div",{className:o.imgContainer},r.a.createElement("img",{className:o.signImage,src:Me.a,alt:"signImage"}),r.a.createElement("img",{className:o.wave,src:Pe.a,alt:""})),r.a.createElement(x,{justifyContent:"center",width:"100%",className:o.root},r.a.createElement("div",{className:o.container},r.a.createElement(ie.a,{variant:"h3",paragraph:!0},n.title),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),_(""),R(!0),!W){var n=m,a=g;if(w!==a)return _("Passwords are not identical."),void R(!1);if(a.length<13)return _("Password is too short."),void R(!1);Re(n,a).then(function(){var t=Object(v.a)(f.a.mark((function t(n){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log("Result =>",n),(null===n||void 0===n||null===(a=n.user)||void 0===a?void 0:a.uid)&&i("accountIdToken",n.user.uid),e.push("/welcome");case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){_(e.message),R(!1)}))}}},r.a.createElement(x,{className:o.inputWrapper,flexDirection:"column"},r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"email-input",value:m,onChange:L("email"),type:"email",label:"E-mail",variant:"outlined"}),r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"password-input",value:g,onChange:L("password"),type:"password",label:"Password",variant:"outlined"}),r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"confirm-password-input",value:w,onChange:L("password-confirm"),type:"password",label:"Confirm password",variant:"outlined"})),S&&r.a.createElement(Te.a,{style:{margin:"10px 0"},severity:"error"},r.a.createElement(Ue.a,null,"Upps..."),S),r.a.createElement(x,{justifyContent:"space-between"},r.a.createElement(ce.a,{onClick:function(){e.push("/login")},color:"primary",type:"button"},"Login"),r.a.createElement(ye.a,{color:"primary","aria-label":"add",type:"submit"},r.a.createElement(ue.a,{style:{color:"white"}},"keyboard_arrow_right")))))),r.a.createElement(x,{className:o.footerWrapper,alignItems:"center",justifyContent:"flex-end",height:"42px"},r.a.createElement(ie.a,{align:"right"})),W?r.a.createElement(ke.a,{open:!0,style:{zIndex:5}},r.a.createElement(Ce.a,{color:"primary"})):null)},qe=Object(g.a)((function(e){return{root:{position:"relative",maxWidth:e.breakpoints.values.md,margin:"0 auto",padding:"0 ".concat(e.spacing(4))},inputWrapper:{},wave:{position:"absolute",zIndex:5,bottom:"-10%",left:"-1%",width:"102%",height:"auto"},personalImage:Object(je.a)({width:"auto",height:"240px",position:"absolute",right:"2%",bottom:"0px"},e.breakpoints.up("sm"),{height:"310px",bottom:"5px"}),imgContainer:Object(je.a)({height:"300px",position:"relative",overflow:"hidden",background:"linear-gradient(to top left, ".concat(e.palette.primary.dark,", ").concat(e.palette.primary.main,")")},e.breakpoints.up("sm"),{height:"350px"}),welcomeTitle:{color:e.palette.primary.main}}})),Ge=function(e){return{title:{en_US:"Welcome,",pl_PL:"Witamy",de_DE:"Willkommen"},yes:e.yes}},Ve=n(122),Je=n.n(Ve),Ke=function(){var e,t,n,o=Object(d.f)(),i=Object(u.useLittera)(Ge),l=Object(c.a)(i,1)[0],s=qe(),m=k(),p=X(),h=y((function(e){return e.currentAccount})),b=Object(a.useState)(null!==(e=null===h||void 0===h?void 0:h.label)&&void 0!==e?e:""),g=Object(c.a)(b,2),E=g[0],j=g[1],O=Object(a.useState)(null!==(t=null===h||void 0===h?void 0:h.name)&&void 0!==t?t:""),w=Object(c.a)(O,2),C=w[0],S=w[1],I=Object(a.useState)(null!==(n=null===h||void 0===h?void 0:h.surname)&&void 0!==n?n:""),_=Object(c.a)(I,2),P=_[0],N=_[1],A=function(e){var t,n,a,r,o=null!==(t=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.id)&&void 0!==t?t:"",i=null!==(a=null===e||void 0===e||null===(r=e.target)||void 0===r?void 0:r.value)&&void 0!==a?a:"";switch(o){case"label":j(i);break;case"name":S(i);break;case"surname":N(i)}},W=function(){var e=Object(v.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(E&&C&&P)){e.next=12;break}return e.next=3,p(H,(null===h||void 0===h?void 0:h.id)||"",{label:E,name:C,surname:P});case 3:if(204!==e.sent.status){e.next=10;break}return e.next=7,p(z,(null===h||void 0===h?void 0:h.id)||"",!0);case 7:200===(t=e.sent).status&&m(K(t.data)),o.push("/home");case 10:e.next=13;break;case 12:alert("Implement error handling!");case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement("div",{className:s.imgContainer},r.a.createElement("img",{className:s.personalImage,src:Je.a,alt:"PersonalInformation"}),r.a.createElement("img",{className:s.wave,src:Pe.a,alt:"wave"})),r.a.createElement("div",{className:s.root},r.a.createElement(ie.a,{className:s.welcomeTitle,variant:"h2"},l.title," ",null===h||void 0===h?void 0:h.label),r.a.createElement(ie.a,{style:{opacity:"0.7",marginBottom:"35px"},paragraph:!0},"Here you need to provide us with some data about you. Name, Surname etc."),r.a.createElement(ie.a,{style:{paddingBottom:"16px"},variant:"h4"},"Personal information"),r.a.createElement(x,{flexDirection:"column",className:s.inputWrapper},r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"label",label:"Label",variant:"outlined",value:E,onChange:A}),r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"name",label:"Name",variant:"outlined",value:C,onChange:A}),r.a.createElement(we.a,{style:{marginBottom:"15px"},id:"surname",label:"Surname",variant:"outlined",value:P,onChange:A})),r.a.createElement(ce.a,{style:{color:"white",float:"right",marginBottom:"15px"},variant:"contained",color:"primary",onClick:W},"Save")))};var Ze=function(){var e=Object(d.f)(),t=Object(d.g)();return Object(a.useEffect)((function(){"/home"===t.pathname&&e.push({pathname:"/home/highlights"})}),[]),null},Qe=Object(g.a)((function(e){return{root:{}}})),Ye=function(e){return{title:{en_US:"Profile",pl_PL:"Profil",de_DE:"Profil"},yes:e.yes}},Xe=function(e){var t=$(e.account_id,!1,{flags:!0,rooms:!0,contacts:!0});return t?r.a.createElement("div",{style:{border:"1px solid #121212"}},r.a.createElement("img",{alt:"profile",src:t.avatar_url,style:{width:"220px",height:"auto"}}),r.a.createElement(ie.a,{gutterBottom:!0,variant:"h4"},t.label),r.a.createElement(ie.a,null,t.name," ",t.surname),r.a.createElement(ie.a,null,"Is favorite? ",e.favorite?"true":"false")):r.a.createElement("div",null,"...")},$e=function(){var e=Object(u.useLittera)(Ye),t=Object(c.a)(e,1)[0],n=Qe(),a=$(void 0,!0);return a?r.a.createElement("div",{className:n.root},t.title,r.a.createElement("img",{alt:"profile",src:a.avatar_url,style:{width:"220px",height:"auto"}}),r.a.createElement(ie.a,{paragraph:!0},a.label),r.a.createElement(ie.a,{paragraph:!0},a.name),r.a.createElement(ie.a,{paragraph:!0},a.surname),r.a.createElement(ie.a,{paragraph:!0},a.email),r.a.createElement("br",null),r.a.createElement(ie.a,{variant:"h3"},"Contacts:"),(null===a||void 0===a?void 0:a.contacts)&&a.contacts.map((function(e){return r.a.createElement(Xe,Object.assign({key:e.account_id},e))}))):r.a.createElement(Ce.a,null)},et=function(e){var t=function(e){var t=Object(a.useState)(new Audio(e)),n=Object(c.a)(t,1)[0],r=Object(a.useState)(!1),o=Object(c.a)(r,2),i=o[0],l=o[1];return Object(a.useEffect)((function(){i?n.play():n.pause()}),[i]),Object(a.useEffect)((function(){return n.addEventListener("ended",(function(){return l(!1)})),function(){n.removeEventListener("ended",(function(){return l(!1)}))}}),[]),[i,function(){return l(!i)}]}("https://cdn-02.anonfiles.com/B4z8W9Bbo8/14878adc-1592945278/notification_sound.mp3"),n=Object(c.a)(t,2)[1],r=Object(a.useState)(null),o=Object(c.a)(r,2),i=o[0],l=o[1];return Object(a.useEffect)((function(){ee.database().ref(function(e){return"rooms/".concat(e,"/messages")}(e)).on("value",(function(e){var t,a=null!==(t=e.val())&&void 0!==t?t:[];l((function(e){return null!==e&&"function"===typeof n&&n(),a}))}))}),[e]),i},tt=Object(g.a)((function(e){return{root:Object(je.a)({position:"relative",flexBasis:"70%",width:"70%",minHeight:"100vh"},e.breakpoints.down("sm"),{flexBasis:"100%",width:"100%"}),messagesRoot:Object(je.a)({minWidth:"70vw",width:"100%",position:"relative",maxHeight:"calc(100vh - 36px)",height:"90%",flexGrow:1,overflow:"auto",display:"flex"},e.breakpoints.down("sm"),{minWidth:"99vw"}),messageRoot:{margin:"15px 0"},ownedMessage:{alignSelf:"flex-end",color:"#000",backgroundColor:"#eee"},notOwnedMessage:{alignSelf:"flex-start",color:"#FFF",background:e.palette.primary.main},message:{maxWidth:"280px",position:"relative",padding:"16px 22px",borderRadius:"250px"},avatar:{borderRadius:"28px",width:"28px",height:"28px",backgroundColor:"white",right:"-20px",bottom:"-10px",position:"relative",padding:"3px",zIndex:5}}})),nt=n(123),at=n.n(nt),rt=n(124),ot=n.n(rt),it=function(e){var t,n=e.message,a=e.author,o=e.isOwned,i=tt(),c=n.value;try{c=atob(n.value)}catch(u){console.log(u)}var l=at()(i.message,(t={},Object(je.a)(t,i.ownedMessage,o),Object(je.a)(t,i.notOwnedMessage,!o),t));return r.a.createElement(x,{alignItems:"flex-end",className:i.messageRoot,style:{alignSelf:o?"flex-end":"flex-start"}},!o&&(null===a||void 0===a?void 0:a.avatar_url)&&r.a.createElement("img",{alt:"author avatar",src:a.avatar_url,className:i.avatar}),r.a.createElement("div",{className:l},r.a.createElement(ot.a,{source:c})))},ct=function(e){var t=e.roomId,n=e.accounts,o=tt(),i=et(t),c=Object(a.useCallback)((function(e){var t;return null!==(t=n.find((function(t){return t.id===e})))&&void 0!==t?t:null}),[n]),l=y((function(e){var t;return null!==(t=e.currentAccount)&&void 0!==t?t:null}));return i?0===Object.keys(i).length?r.a.createElement(ie.a,{variant:"h2"},"Say Hi!"):r.a.createElement(x,{flexDirection:"column-reverse",className:o.messagesRoot},Object.keys(i).reverse().map((function(e){var t=i[e];return r.a.createElement(it,{key:e,message:t,author:c(t.author),isOwned:(null===l||void 0===l?void 0:l.id)===t.author})}))):r.a.createElement(Ce.a,null)},lt=n(284),ut=Object(g.a)((function(e){return{root:{},inputElement:{borderRadius:"20px",border:"0",outline:"none",background:"#e0e0e0",padding:"12px 15px",minWidth:"80vw",minHeight:"16px",resize:"none"}}})),st=function(e){var t=ut();return r.a.createElement("div",{className:t.root},r.a.createElement("textarea",{onKeyPress:function(t){"Enter"!==t.key||t.shiftKey||(t.preventDefault(),e.onSubmit&&e.onSubmit())},ref:e.inputRef,value:e.value,onChange:e.onChange,placeholder:"Write your message...",className:t.inputElement}))},mt=function(){var e=Object(v.a)(f.a.mark((function e(t,n,a){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(t,n,a);case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),dt=function(e){var t=Object(a.useState)(""),n=Object(c.a)(t,2),o=n[0],i=n[1],l=Object(a.useRef)(),u=function(){var e;l.current&&(null===(e=l.current)||void 0===e||e.focus())},s=function(){var t=Object(v.a)(f.a.mark((function t(n){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n&&n.preventDefault(),!(o.length>0)){t.next=14;break}return t.prev=2,e.onSubmit(btoa(o)),i(""),u(),t.next=8,mt(["dcSXVLtXIAUTyhxv_vpAOC:APA91bE-13ugAh4qEcf8PT3n1r84pbIGZ2Hm5xv4S054SO_wRs3mGM0xCw-0nphyB7wYVthrL6lGZR8qy6qx1--wzUIuqACVNGfow29Lf1EdA-Bh6bb1-VPgiGtx-EF_Z1KPxRu6nZE4"],"New message",o);case 8:t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),console.log(t.t0),alert("Message contains invalid characters.");case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement("form",{id:"message-form",style:{width:"100%",minHeight:"36px",position:"relative",display:"flex",alignItems:"center"},onSubmit:s},r.a.createElement(st,{inputRef:l,value:o,onChange:function(e){var t,n;i(null!==(t=null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"")},onSubmit:s}),r.a.createElement(lt.a,{onClick:function(){return s()}},r.a.createElement(ue.a,{color:"primary"},"send")))},pt=function(){var e,t,n,o,i=Object(d.h)(),c=E(),l=y((function(e){return e.currentAccount})),u=function(e,t){var n,r=Object(a.useRef)(),o=X(),i=_();return Object(a.useEffect)((function(){e&&function(){var n=Object(v.a)(f.a.mark((function n(){var a;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,o(q,e,!!t);case 2:200===(a=n.sent).status&&(r.current=a.data,i());case 4:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}()()}),[e]),null!==(n=r.current)&&void 0!==n?n:null}(i.id),s=(n=i.id,o=null!==(e=null===l||void 0===l?void 0:l.id)&&void 0!==e?e:"",Object(a.useCallback)((function(e){var t={author:o,value:e,timestamp:(new Date).toString()},a=ee.database().ref().child("rooms").child(n).child("messages").push().key,r={};return r["/rooms/".concat(n,"/messages/").concat(a)]=t,ee.database().ref().update(r)}),[o,n]));return u&&u.id?r.a.createElement("div",{className:c.root},r.a.createElement(ie.a,{variant:"h4"},u.label),r.a.createElement(ct,{accounts:null!==(t=null===u||void 0===u?void 0:u.accounts)&&void 0!==t?t:[],roomId:u.id}),r.a.createElement(dt,{onSubmit:s})):r.a.createElement(Ce.a,null)},ft=function(e){var t=e.room,n=e.currentRoomId,a=Object(d.f)();if(t.id===n)return r.a.createElement("p",null,r.a.createElement("b",null,t.label));return r.a.createElement("p",{onClick:function(){a.push("/room/".concat(t.id))}},t.label)},vt=function(e){var t,n=e.currentRoomId,a=y((function(e){return e.currentAccount}));return r.a.createElement("div",{style:{flexBasis:"30%",width:"30%"}},(null!==(t=null===a||void 0===a?void 0:a.rooms)&&void 0!==t?t:[]).sort((function(e){return e.id===n?-1:1})).map((function(e){return r.a.createElement(ft,{room:e,currentRoomId:n})})))},ht=n(288),bt=function(){var e=Object(le.a)(),t=Object(ht.a)(e.breakpoints.down("sm")),n=Object(d.h)();return r.a.createElement(x,{width:"100%",height:"100vh"},!t&&r.a.createElement(vt,{currentRoomId:n.id}),r.a.createElement(pt,null))},gt=n(289),Et=n(290),jt=n(291),xt=n(292),Ot=Object(g.a)((function(e){return{root:{}}})),wt=n(298),yt=function(e){var t=e.account,n=e.onClick,a=e.selected;return r.a.createElement(x,{style:{paddingTop:"12px",cursor:"pointer"},onClick:function(){n(t.id)},justifyContent:"flex-start",alignItems:"center"},r.a.createElement(wt.a,{style:{width:"54px",height:"54px",backgroundColor:a?"green":"initial"},alt:t.label,src:a?void 0:t.avatar_url},a?r.a.createElement(ue.a,null,"check"):t.label),r.a.createElement("div",{style:{margin:"0 0 0 20px"}},r.a.createElement(ie.a,{style:{margin:"0"},variant:"h6"},t.label),r.a.createElement(ie.a,{style:{margin:"0",opacity:".6"}},t.email)))},kt=function(e){var t,n=Ot(),o=y((function(e){return e.currentAccount})),i=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object(a.useRef)(null),i=_();if(null===o.current){var c=e.apply(void 0,n),l=function(e){o.current[0]=e,i()};o.current=[c,l]}return Object(a.useEffect)((function(){var t=e.apply(void 0,n);o.current[0]!==t&&o.current[1](t)}),[e,n]),o.current}((function(e){return null!==(t=e)&&102!==t.status?e.data:null;var t}),function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=Object(a.useRef)(null),i=_();return Object(a.useEffect)((function(){o.current={status:102},function(){var t=Object(v.a)(f.a.mark((function t(){var a,r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n||[],t.next=3,Y.execute(Object(Q.a)(e,Object(N.a)(a)));case 3:r=t.sent,o.current=r,i();case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[]),o.current}(M,null===o||void 0===o||null===(t=o.contacts)||void 0===t?void 0:t.map((function(e){return e.account_id})))),l=Object(c.a)(i,1)[0];Object(a.useEffect)((function(){e.onChange((function(e){return[]}))}),[]);return l?r.a.createElement("div",{className:n.root,style:e.style},l.map((function(t){return r.a.createElement(yt,{key:t.id,account:t,onClick:function(t){return function(t){e.disabled||e.onChange((function(n){if(e.multiple&&Array.isArray(n)){var a=Object(N.a)(n);return a.includes(t)?a.splice(n.indexOf(t),1):a.push(t),Object(N.a)(a)}return n===t?"":t}))}(t)},selected:e.value.includes(t.id)})}))):r.a.createElement(x,{width:"100%",height:"60px",alignItems:"center",justifyContent:"center"},r.a.createElement(Ce.a,null))},Ct=function(){var e=r.a.useState(""),t=Object(c.a)(e,2),n=t[0],a=t[1],o=r.a.useState(!1),i=Object(c.a)(o,2),l=i[0],u=i[1],s=r.a.useState(!1),m=Object(c.a)(s,2),p=m[0],h=m[1],b=r.a.useState([]),g=Object(c.a)(b,2),E=g[0],j=g[1],O=r.a.useState(""),w=Object(c.a)(O,2),C=w[0],S=w[1],I=Object(d.f)(),_=y((function(e){return e.currentAccount})),P=X(),N=k(),A=function(){h(!1)},W=function(){var e=Object(v.a)(f.a.mark((function e(){var t,n,r,o,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),e.next=3,P(G,null!==(t=null===_||void 0===_?void 0:_.id)&&void 0!==t?t:"",C,E);case 3:if(200!==(n=e.sent).status){e.next=14;break}return e.t0=N,e.next=8,Z(null!==(r=null===_||void 0===_?void 0:_.id)&&void 0!==r?r:"");case 8:e.t1=e.sent,(0,e.t0)(e.t1),o=n.data.room_id,I.push("/room/".concat(o)),e.next=15;break;case 14:404===n.status&&a(null!==(i=null===n||void 0===n?void 0:n.message)&&void 0!==i?i:"Unexpected error occurred");case 15:u(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=0===C.length||0===E.length||l;return r.a.createElement("div",null,r.a.createElement(ce.a,{variant:"contained",onClick:function(){h(!0)}},"Create Room"),r.a.createElement(gt.a,{fullWidth:!0,onClose:A,"aria-labelledby":"customized-dialog-title",open:p},r.a.createElement(Et.a,{id:"customized-dialog-title"},"Create room"),r.a.createElement(jt.a,{dividers:!0},n&&r.a.createElement(Te.a,{severity:"error"},n),r.a.createElement(we.a,{disabled:l,fullWidth:!0,id:"outlined-basic",label:"Room name",value:C,onChange:function(e){var t,n,a=null!==(t=null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)&&void 0!==t?t:"";S(a)},variant:"outlined"}),r.a.createElement(ie.a,{style:{marginTop:"35px"},variant:"h5"},"Invite friends"),r.a.createElement(kt,{disabled:l,style:{margin:"20px 0"},multiple:!0,value:E,onChange:j})),r.a.createElement(xt.a,null,r.a.createElement(x,{width:"100%",justifyContent:"space-between",alignItems:"center"},E.length>0?r.a.createElement(ie.a,null,"Selected ",E.length," ",E.length>1?"friends":"friend"):r.a.createElement(ie.a,null,"Select a friend"),r.a.createElement("div",null,r.a.createElement(ce.a,{autoFocus:!0,onClick:A,color:"primary"},"Close"),r.a.createElement(ce.a,{disabled:R,autoFocus:!0,onClick:W,color:"primary"},"Create"))))))},St=function(e){var t=Object(d.f)();return r.a.createElement(ie.a,{onClick:function(){return t.push("/room/".concat(e.id))}},e.label)},It=function(){var e=y((function(e){return e.currentAccount}));return r.a.createElement("div",null,r.a.createElement(ie.a,{variant:"h2",gutterBottom:!0},"Rooms"),(null===e||void 0===e?void 0:e.rooms)&&e.rooms.map((function(e){return r.a.createElement(St,Object.assign({key:e.id},e))})),r.a.createElement(Ct,null))},_t=function(e){return r.a.createElement(ie.a,{color:e.favorite?"primary":"initial"},e.account_id)},Pt=function(){var e=y((function(e){return e.currentAccount}));return r.a.createElement("div",null,r.a.createElement(ie.a,{variant:"h2",gutterBottom:!0},"People"),(null===e||void 0===e?void 0:e.contacts)&&e.contacts.map((function(e){return r.a.createElement(_t,Object.assign({key:e.account_id},e))})))},Nt=Object(g.a)((function(e){return{root:{}}})),At=function(e){return{title:{en_US:"Home",pl_PL:"Strona g\u0142\xf3wna",de_DE:"Startseite"},yes:e.yes}},Wt=function(){var e=Object(d.f)(),t=Object(u.useLittera)(At),n=Object(c.a)(t,1)[0],a=Nt(),o=P(),i=k(),l=y((function(e){return e.currentAccount})),s=function(){var e=Object(v.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Le();case 2:o("accountIdToken"),i(K(null)),window.location.reload(!0);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:a.root},r.a.createElement(ie.a,{variant:"h2"},n.title),r.a.createElement(x,{flexDirection:"row",alignItems:"center",justifyContent:"space-between"},l&&r.a.createElement(ce.a,{onClick:function(){return e.push("/profile")}},l.label," Profile"),l&&r.a.createElement(ce.a,{variant:"contained",onClick:s},"Sign out")))},Rt=n(293),Lt=n(294),Tt=n(125),Ut=n.n(Tt),Dt=n(126),Bt=n.n(Dt),zt=n(127),Ht=n.n(zt),Mt=Object(g.a)({root:{bottom:"0",position:"fixed",width:"100%",boxShadow:"0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)"}}),Ft=["highlights","rooms","people"],qt=function(e){var t=e.visible,n=Object(d.f)(),a=Object(d.g)(),o=Mt(),i=r.a.useState(Ft.indexOf(a.pathname.split("/")[2])||0),l=Object(c.a)(i,2),u=l[0],s=l[1];return t?r.a.createElement("div",null,r.a.createElement(Rt.a,{value:u,onChange:function(e,t){s(t)},showLabels:!0,className:o.root},r.a.createElement(Lt.a,{onClick:function(){return n.push("/home/highlights")},label:"Highlights",icon:r.a.createElement(Ut.a,null)}),r.a.createElement(Lt.a,{onClick:function(){return n.push("/home/rooms")},label:"Rooms",icon:r.a.createElement(Bt.a,null)}),r.a.createElement(Lt.a,{onClick:function(){return n.push("/home/people")},label:"People",icon:r.a.createElement(Ht.a,null)}))):null},Gt=["highlights","rooms","people"];var Vt=function(){var e=Object(d.f)(),t=Object(d.g)(),n=new RegExp(Gt.join("|")).test(t.pathname);return Object(a.useEffect)((function(){"/"!==t.pathname&&e.push({pathname:"/",state:{initialPath:t.pathname}})}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",component:ae}),r.a.createElement(d.a,{exact:!0,path:"/intro",component:Ee}),r.a.createElement(d.a,{exact:!0,path:"/signup",component:Fe}),r.a.createElement(d.a,{exact:!0,path:"/welcome",component:Ke}),r.a.createElement(d.a,{exact:!0,path:"/login",component:De}),r.a.createElement(d.a,{exact:!0,path:"/home",component:Ze}),r.a.createElement(d.a,{exact:!0,path:"/home/highlights",component:Wt}),r.a.createElement(d.a,{exact:!0,path:"/home/rooms",component:It}),r.a.createElement(d.a,{exact:!0,path:"/home/people",component:Pt}),r.a.createElement(d.a,{exact:!0,path:"/profile",component:$e}),r.a.createElement(d.a,{path:"/room/:id",component:bt}),r.a.createElement(d.a,{exact:!0,component:function(){return r.a.createElement("div",null,"Error page ",r.a.createElement("br",null)," ",r.a.createElement(ce.a,{variant:"contained",onClick:function(){return e.push("/")}},"Reload"))}})),r.a.createElement(qt,{visible:n}))},Jt=n(128),Kt=Object(Jt.a)({palette:{primary:{main:"#449ee2"},secondary:{main:"#99d8ff"},background:{default:"#FAFAFA"}},spacing:4}),Zt=Object.freeze(["en_US","pl_PL","de_DE"]),Qt=Object.freeze({yes:{en_US:"Yes",pl_PL:"Tak",de_DE:"Ja"},no:{en_US:"No",pl_PL:"Nie",de_DE:"Nein"}}),Yt=function(e){var t=e.children,n=e.initialState,o=Object(a.useState)(null!==n&&void 0!==n?n:O),i=Object(c.a)(o,2),l=i[0],u=i[1];return r.a.createElement(w.Provider,{value:[l,u]},t)};var Xt=function(){var e=function(){var e=Object(a.useState)(Zt[0]),t=Object(c.a)(e,2);return[t[0],t[1],Qt]}(),t=Object(c.a)(e,3),n=t[0],o=t[1],i=t[2];return r.a.createElement(Yt,null,r.a.createElement(l.a,{theme:Kt},r.a.createElement(s.a,{language:n,setLanguage:o,preset:i},r.a.createElement(ne.a,{maxSnack:3},r.a.createElement(m.a,{basename:("/","/")},r.a.createElement(Vt,null))))))},$t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function en(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}n(237),n(238),n(239);var tn=ee.initializeApp({apiKey:"AIzaSyA_AUH-zsM6ecOoWFeEKdYRQ-w64nWz3zA",authDomain:"ping-82fee.firebaseapp.com",databaseURL:"https://ping-82fee.firebaseio.com",projectId:"ping-82fee",storageBucket:"ping-82fee.appspot.com",messagingSenderId:"262343699619",appId:"1:262343699619:web:9b197e44a89eb579376316",measurementId:"G-Q9S8PDHJDP"});tn.database(),tn.auth();tn.messaging().usePublicVapidKey("BFpEHR0UHDMxqVkWLbe884ukhegFUVl-SPUGpDaG2PG9BaQMr5BmNeq3BAyzMfqMD-kiJV-dwQKEDcubgNMRozw"),i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Xt,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");$t?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):en(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):en(t,e)}))}}(),"serviceWorker"in navigator&&navigator.serviceWorker.register("./firebase-messaging-sw.js").then((function(e){console.log("Registration successful, scope is:",e.scope)})).catch((function(e){console.log("Service worker registration failed, error:",e)}))},57:function(e,t,n){e.exports=n.p+"static/media/wave.21665015.svg"}},[[139,1,2]]]);
//# sourceMappingURL=main.0fdd6c4d.chunk.js.map